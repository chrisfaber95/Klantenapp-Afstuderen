{"version":3,"sources":["webpack:///./src/components/SpaaractieScreen/Voucherfield1.vue?0057","webpack:///./src/components/SpaaractieScreen/Coinexchange.vue?c8da","webpack:///./src/components/SpaaractieScreen/Voucher.vue?2379","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/views/Spaaracties.vue?ab46","webpack:///./src/components/SpaaractieScreen/Stamp1.vue?1283","webpack:///./src/components/SpaaractieScreen/Stamp.vue","webpack:///./src/components/SpaaractieScreen/Coinexchange.vue","webpack:///./src/components/SpaaractieScreen/Stamp1.vue","webpack:///./src/components/SpaaractieScreen/Stamp1.vue?2f54","webpack:///./src/components/SpaaractieScreen/Voucher.vue","webpack:///./src/components/SpaaractieScreen/Voucher.vue?7555","webpack:///./src/components/SpaaractieScreen/Actiefolder.vue","webpack:///./src/components/SpaaractieScreen/Actiefolder.vue?0778","webpack:///./src/components/SpaaractieScreen/Stampfield1.vue","webpack:///./src/components/SpaaractieScreen/Stampfield1.vue?d446","webpack:///./src/components/SpaaractieScreen/Voucherfield1.vue","webpack:///./src/components/SpaaractieScreen/Voucherfield1.vue?89d5","webpack:///./src/components/SpaaractieScreen/CoinField.vue","webpack:///./src/components/SpaaractieScreen/CoinField.vue?329a","webpack:///./src/views/Spaaracties.vue","webpack:///./src/views/Spaaracties.vue?d3be","webpack:///./src/components/SpaaractieScreen/Actiefolder.vue?1ac8","webpack:///./src/components/SpaaractieScreen/Stampfield1.vue?7876","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/components/SpaaractieScreen/Stamp.vue?aafc","webpack:///./src/components/SpaaractieScreen/CoinField.vue?a223"],"names":["toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","value","O","this","length","argumentsLength","arguments","index","undefined","end","endPos","state","reactive","publicPath","process","productModalOpened","computed","customer_actie","stamp_amount","Math","floor","customer_info","storepoints","props","actie","point_for_stamp","onMounted","store","useStore","page","pdf","customerActie","flipPage","console","log","book","children","classList","add","addEventListener","remove","once","flipBackPage","document","querySelector","getters","getCustomerInfo","ref","getZIndex","$","hasClass","pageAmount","range","start","Array","fill","map","_","idx","coinExchange","last","alert","confirm","exchangePoints","amount_of_stamps","pages","amount","id","localStorage","getItem","token","params","info","customer_id","accessToken","spaaractie_id","amount_exchange","where","customer_has_spaaractie_id","HTTP","put","then","getCustomerActies","get","response","data","commit","catch","watch","newVal","oldVal","immidiate","deep","coin_amount","currentPage","openShop","tacopen","knuffels","physical","ceil","initSlider","goNext","goPrev","arrowIconLeft","prev","getElementById","next","innerHTML","style","transform","e","code","initSwipe","loggedIn","onBeforeUpdate","route","useRoute","path","acties","currentActie","today","DateTime","now","coinPage","getActies","openCoinActie","title","actietype_id","filter","item","fromFormat","start_date","end_date","immediate","comingActies","closedActies","addToUnscopables","target","proto"],"mappings":"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","file":"js/chunk-80311e32.3293d3e6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Voucherfield1.vue?vue&type=style&index=0&id=182c56fe&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Coinexchange.vue?vue&type=style&index=0&id=5d918236&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Voucher.vue?vue&type=style&index=0&id=5e8f62ba&scoped=true&lang=css\"","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Spaaracties.vue?vue&type=style&index=0&id=0a71106c&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Stamp1.vue?vue&type=style&index=0&id=6298f33a&scoped=true&lang=css\"","import script from \"./Stamp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Stamp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Stamp.vue?vue&type=style&index=0&id=7c47d4b5&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c47d4b5\"]])\n\nexport default __exports__","import script from \"./Coinexchange.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Coinexchange.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Coinexchange.vue?vue&type=style&index=0&id=5d918236&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5d918236\"]])\n\nexport default __exports__","<template>\r\n\t<div class=\"stamp\">\r\n        <img class=\"background\" :src=\"`${state.publicPath}img/stamp-background.png`\"/>\r\n        <div class=\"content\">\r\n            <img :src=\"stamp ? `https://www.cooplubbers.nl/${actie.stamp_imgurl}` : `https://www.cooplubbers.nl/${actie.imgurl}`\" :class=\"{'visible_stamp': stamp}\" />\r\n            <img class='coin visible_stamp' :src=\"last ? `img/coin_exchange.png`: ``\" v-if=\"last\" style=\"max-height: 80%;\"/>\r\n            <div class=\"number\" v-html=\"stamp_number\" v-if=\"!stamp && !last\"></div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose } from 'vue';\r\n\t\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Stamp from '@/components/SpaaractieScreen/Stamp.vue'\r\n\r\nconst props = defineProps({\r\n    'actie': Object,\r\n    'stamp': Boolean,\r\n    'stamp_number': Number,\r\n    'last': Boolean\r\n})\r\n\r\n\r\nconst state = reactive({\r\n    publicPath: process.env.BASE_URL,\r\n    productModalOpened: false\r\n})\r\n\r\nconst stamp_amount = computed(() => {\r\n    return state.customer_actie.stamp_amount\r\n})\r\n\r\nconst stampconvert = computed(() => {\r\n    return Math.floor(state.customer_info.storepoints / props.actie.point_for_stamp)\r\n})\t\r\n\r\n\r\n\t\t/*\r\n\t\tnewline:function(html){\r\n\t\t\thtml = html.replace(new RegExp('\\r?\\n','g'), '<br />');\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\t*/\r\n        function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\n        function getCustomerActies(){\r\n        HTTP.get(`customer_spaaractie/${localStorage.getItem('user_id')}`)\r\n        .then((response) => {\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                if(props.actie.spaaractie_id == response.data[index].spaaractie_id){\r\n                    state.customer_actie = response.data[index]\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps)\r\n                    if (state.pages  < 3) state.pages = 3\r\n                }\r\n                else{\r\n                    state.customer_actie.point_amount = 0\r\n                    state.customer_actie.spaaractie_id = props.actie.spaaractie_id\r\n                    state.customer_actie.stamp_amount = 0\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps)\r\n                    if (state.pages  < 3) state.pages = 3\r\n                }\r\n            }\r\n           \r\n        })\r\n        .catch(() => {\r\n        })\r\n    }\r\n\r\n    onMounted(() => {\r\n        //getCustomerInfo()\r\n        //getCustomerActies()   \r\n\t})\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.stamp{\r\n    position: relative;\r\n    height: 100%;\r\n\tdisplay: block;\r\n    text-align: left;\r\n}\r\n.background{\r\n    opacity: 0.8;\r\n    position: absolute;\r\n    display: inline-block;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-right: -50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n    transform: translate(-50%, -50%);\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    width: auto;\r\n    height: auto;\r\n}\r\n.content{\r\n    position: absolute;\r\n    width: 97%;\r\n    height: 97%;\r\n    display: inline-block;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n.content img{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-right: -50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n    transform: translate(-50%, -50%);\r\n    opacity: 0.4;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    width: auto;\r\n    height: auto;\r\n}\r\n.content .visible_stamp{\r\n    opacity: 1;\r\n}\r\n.content .number{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-right: -50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: 2rem;\r\n    color: #0010ee;\r\n    font-weight: 600;\r\n}\r\n</style>","import script from \"./Stamp1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Stamp1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Stamp1.vue?vue&type=style&index=0&id=6298f33a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6298f33a\"]])\n\nexport default __exports__","<template>\r\n\t<div class=\"voucher\">\r\n        <!--<img class=\"background\" :src=\"`${state.publicPath}img/stamp-background.png`\"/>-->\r\n        <div class=\"content\">\r\n            <img :src=\"stamp ? `https://www.cooplubbers.nl/${actie.stamp_imgurl}` : `${actie.imgurl}`\" :class=\"{'visible_stamp': stamp}\" />\r\n            <img class='coin visible_stamp' :src=\"last ? `img/coin_exchange.png`: ``\" v-if=\"last\" style=\"max-width: 80%;\"/>\r\n            <div class=\"number\" v-html=\"stamp_number\" v-if=\"!stamp && !last\"></div>\r\n            <div class=\"number\" v-html=\"custom.substring(0,8) + stamp_number\" v-if=\"stamp\"></div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose } from 'vue';\r\n\t\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Stamp from '@/components/SpaaractieScreen/Stamp.vue'\r\n\r\nconst props = defineProps({\r\n    'actie': Object,\r\n    'stamp': Boolean,\r\n    'stamp_number': Number,\r\n    'last': Boolean,\r\n    'custom': String\r\n})\r\n\r\n\r\nconst state = reactive({\r\n    publicPath: process.env.BASE_URL,\r\n    productModalOpened: false\r\n})\r\n\r\nconst stamp_amount = computed(() => {\r\n    return state.customer_actie.stamp_amount\r\n})\r\n\r\nconst stampconvert = computed(() => {\r\n    return Math.floor(state.customer_info.storepoints / props.actie.point_for_stamp)\r\n})\t\r\n\r\n\r\n\t\t/*\r\n\t\tnewline:function(html){\r\n\t\t\thtml = html.replace(new RegExp('\\r?\\n','g'), '<br />');\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\t*/\r\n        function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\n        function getCustomerActies(){\r\n        HTTP.get(`customer_spaaractie/${localStorage.getItem('user_id')}`)\r\n        .then((response) => {\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                if(props.actie.spaaractie_id == response.data[index].spaaractie_id){\r\n                    state.customer_actie = response.data[index]\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps)\r\n                    if (state.pages  < 3) state.pages = 3\r\n                }\r\n                else{\r\n                    state.customer_actie.point_amount = 0\r\n                    state.customer_actie.spaaractie_id = props.actie.spaaractie_id\r\n                    state.customer_actie.stamp_amount = 0\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps)\r\n                    if (state.pages  < 3) state.pages = 3\r\n                }\r\n            }\r\n           \r\n        })\r\n        .catch(() => {\r\n        })\r\n    }\r\n\r\n    onMounted(() => {\r\n        //getCustomerInfo()\r\n        //getCustomerActies()   \r\n\t})\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.voucher{\r\n    position: relative;\r\n    height: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-content: center;\r\n    align-items: stretch;\r\n    justify-content: center;\r\n    flex-wrap: nowrap;\r\n}\r\n.background{\r\n    opacity: 0.8;\r\n}\r\n.voucher .content{\r\n    position: relative;\r\n    width: 100%; \r\n    display: block;\r\n    height: fit-content;\r\n}\r\n.voucher .content img{\r\n    position: absolute;\r\n    top: calc(50% - 1.5rem);\r\n    left: 50%;\r\n    margin-right: -50%;\r\n    transform: translate(-50%, -50%);\r\n    opacity: 0.4;\r\n}\r\n.voucher .content .visible_stamp{\r\n    opacity: 1;\r\n}\r\n.voucher .content .number{\r\n    position: absolute;\r\n    left: 50%;\r\n    margin-right: -50%;\r\n    transform: translate(-50%, 100%);\r\n    font-size: 2rem;\r\n    color: #000000;\r\n    font-weight: 600;\r\n}\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .voucher .content{\r\n        height: 100%;\r\n    }\r\n    .number{        \r\n        bottom: 30%;\r\n    }\r\n}\r\n</style>","import script from \"./Voucher.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Voucher.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Voucher.vue?vue&type=style&index=0&id=5e8f62ba&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e8f62ba\"]])\n\nexport default __exports__","\r\n<script setup>\r\nimport { defineProps, computed, onMounted, reactive, ref, watch} from 'vue'\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport $ from 'jquery'\r\nimport Stamp from '@/components/SpaaractieScreen/Stamp1.vue'\r\nimport Voucher from '@/components/SpaaractieScreen/Voucher.vue'\r\nimport Coinexchange from '@/components/SpaaractieScreen/Coinexchange.vue'\r\n  import QRCodeVue3 from \"qrcode-vue3\";\r\n//import pdfjsLib from 'pdfjs-dist';\r\n//import html2canvas from 'html2canvas';\r\nimport { useStore } from 'vuex'\r\nconst store = useStore()\r\n\r\nconst props = defineProps({\r\n  'pageAmount': Number,\r\n  'doublePage': Boolean,\r\n  'actie': Object,\r\n  'voucher': Boolean\r\n})\r\n\r\nconst state = reactive({\r\n    page: 0,\r\n    actie: null,\r\n    pdf: '',\r\n    customerActie: null,\r\n    customer_info: null,\r\n})\r\n\r\nconst computedFontSize = computed(() => {\r\n})\r\nonMounted(() => {\r\n  console.log(props.actie)\r\nconst book = document.querySelector('.book');\r\nstate.customerActie = store.getters['getCurrentActie']\r\n        getCustomerInfo()\r\n})\r\n \r\nfunction flipPage(){\r\n    console.log(book.value.children)\r\n  if(state.page < book.value.children.length - 1){\r\n    book.value.children[state.page].classList.add('transitioning');\r\n    book.value.children[state.page].classList.add('flipped')\r\n    state.page += 1\r\n    book.value.children[state.page - 1].addEventListener('transitionend', () => {\r\n      book.value.children[state.page - 1].classList.remove('transitioning');      \r\n      if(state.page < book.value.children.length){\r\n        book.value.children[state.page].classList.add('visible')\r\n      }\r\n      console.log(book.value.children)\r\n    }, { once: true });\r\n  }\r\n}\r\nfunction flipBackPage(){\r\n    \r\n  if(state.page > 0){\r\n    book.value.children[state.page].classList.remove('visible')\r\n    state.page -= 1\r\n    if(state.page < book.value.children.length){\r\n      book.value.children[state.page].classList.remove('flipped')\r\n    }\r\n    console.log(book.value.children)\r\n  }\r\n}\r\n\r\nconst book = ref();\r\n\r\nconst getZIndex = computed(() => {\r\n  return (index) => {\r\n    var page = $(`#page-${index}`)\r\n    if(page.hasClass('flipped')){\r\n      return index\r\n    }\r\n    if(page.hasClass('transitioning')){\r\n      return props.pageAmount + 1 - index\r\n    }\r\n    else{\r\n      return props.pageAmount + 1 - index\r\n    }\r\n  }\r\n\r\n})\r\n function range(start, end) {\r\n  return Array(end - start + 1).fill().map((_, idx) => start + idx);\r\n}\r\n\r\nfunction coinExchange(last){\r\n    if(state.customer_info.storepoints < props.actie.point_for_stamp){\r\n        alert(\"U heeft te weinig munten om in te leveren voor zegels\")\r\n    }\r\n    else{\r\n        if(confirm(`Wilt u ${props.actie.point_for_stamp} munten inwisselen voor 1 zegel? Dit kan niet terug gezet worden.`)){\r\n            if(last){\r\n                exchangePoints(1)\r\n                if(state.stamp_amount + 1 % props.actie.amount_of_stamps == 0 ) state.pages += 1\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction exchangePoints(amount){\r\n    const id = localStorage.getItem(\"user_id\");\r\n    const token = localStorage.getItem(\"access_token\");\r\n\r\n    const params = {\r\n        info: {\r\n        customer_id: id,\r\n        accessToken: token,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n        storepoints: state.customer_info.storepoints,\r\n        amount_exchange: amount\r\n    }  ,\r\n    where:{\r\n        customer_has_spaaractie_id: state.customerActie.customer_has_spaaractie_id,\r\n        customer_id: id,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n    } }\r\n    HTTP.put(\"customer_spaaractie\", {params})\r\n    .then(() =>{        \r\n            getCustomerInfo()\r\n            getCustomerActies()\r\n    })\r\n}\r\n\r\n        function getCustomerActies(){\r\n        HTTP.get(`customer_spaaractie/${localStorage.getItem('user_id')}`)\r\n        .then((response) => {\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                if(props.actie.spaaractie_id == response.data[index].spaaractie_id){\r\n                    state.customerActie = response.data[index]\r\n                    store.commit('location/changeCurrentActie', state.customerActie)\r\n                }\r\n            }\r\n           \r\n        })\r\n        .catch(() => {\r\n        })\r\n    }\r\n    function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\n\r\nwatch(() => store.getters['location/getCurrentActie'], (newVal, oldVal) => {\r\n    state.customerActie = store.getters['location/getCurrentActie']\r\n},{immidiate: true, deep: true})\r\n\r\nconst coin_amount = computed(() => {\r\n    return state.customer_info?.storepoints || 0\r\n})\r\n\r\n</script>\r\n<template>\r\n  <div class=\"folder\">\r\n    <span class=\"icon-arrow_back\" id=\"prev\" @click=\"flipBackPage()\">\r\n        <svg\r\n          id=\"Layer_1\" \r\n          style=\"width:100%;\"\r\n          version=\"1.1\" \r\n          viewBox=\"0 0 512 512\" \r\n          color=\"#fff\" \r\n          xml:space=\"preserve\" \r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon fill=\"#fff\" points=\"250,60 100,400 400,400 \"/></svg>\r\n    </span>\r\n    <div class=\"booklet\">     \r\n        <div class=\"book\" ref=\"book\">\r\n        <div class=\"page visible\" :id=\"`page-0`\" :style=\"{'z-index': getZIndex(0), 'background-color': actie.maincolor}\">\r\n            <div class=\"front\" :id=\"`page-0-front`\" :style=\"{'background-color': actie.maincolor}\">\r\n                <div class=\"frontpage\" \r\n                    :style=\"{ /*backgroundImage: `url('${actie.background_card} ')`,*/ 'background-color': actie.maincolor }\"\r\n                >\r\n                    <div class=\"front-image\">\r\n                        <img :src=\"`https://www.cooplubbers.nl/${actie.front_imgurl}`\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"back\" :id=\"`page-0-back`\">\r\n            <p></p>\r\n            </div>\r\n        </div>\r\n            <div class=\"page\" \r\n            :id=\"`page-${page}`\" \r\n            v-for=\"page in range(1, props.pageAmount-1)\" \r\n            :key=\"`page-${page}`\" \r\n            :style=\"{'z-index': getZIndex(page), 'background-color': actie.maincolor}\" >\r\n            <div class=\"front\" :style=\"{'background-color': actie.maincolor}\">\r\n                <div class=\"stamps\" v-if=\"voucher !== true\" :style=\"{ 'grid-template-columns': `repeat(${actie?.amount_of_stamps > 5 ? 5 : actie?.amount_of_stamps}, ${actie?.amount_of_stamps > 5 ? '18%' : ((100 / actie.amount_of_stamps) - 2) + '%'})`}\">\r\n                    <Stamp \r\n                      :actie=\"actie\" \r\n                      :stamp_number=\"(actie.amount_of_stamps * (page - 1)) + stamp\" \r\n                      :stamp=\"(actie.amount_of_stamps * (page - 1)) + stamp <= state.customerActie?.stamp_amount ? true : false\" \r\n                      v-for=\"stamp in actie.amount_of_stamps\" \r\n                      :key=\"stamp * page + 1\"\r\n                      :last=\"((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) && coin_amount >= actie.point_for_stamp ? true : false\" \r\n                      @click=\"((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) && coin_amount >= actie.point_for_stamp ? coinExchange((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) : ''\"\r\n                    />\r\n                </div>         \r\n                <div class=\"stamps\" v-if=\"voucher === true\" :style=\"{ 'grid-template-columns': `repeat(${actie?.amount_of_stamps > 5 ? 5 : actie?.amount_of_stamps}, ${actie?.amount_of_stamps > 5 ? '18%' : ((100 / actie.amount_of_stamps) - 2) + '%'})`}\">\r\n                  \r\n                  <Voucher \r\n                    :actie=\"actie\" \r\n                    :custom=\"state.customerActie?.customer_has_spaaractie_id\"\r\n                    :stamp_number=\"(actie.amount_of_stamps * (page - 1)) + stamp\" \r\n                    :stamp=\"(actie.amount_of_stamps * (page - 1)) + stamp <= state.customerActie?.stamp_amount ? true : false\" \r\n                    v-for=\"stamp in actie.amount_of_stamps\" \r\n                    :key=\"stamp * page + 1\"\r\n                    :last=\"((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) && coin_amount >= actie.point_for_stamp ? true : false\" \r\n                    @click=\"((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) && coin_amount >= actie.point_for_stamp ? coinExchange((actie.amount_of_stamps * (page - 1)) + stamp == state.customerActie?.stamp_amount + 1) : ''\"\r\n                  />\r\n                  <b class=\"voucher-page\">Voucher {{(page)}} / {{state.customerActie?.stamp_amount}}</b>\r\n              </div>\r\n\r\n              <div class=\"full-stamps\" v-if=\"(actie.physical == true) && (state.customerActie?.stamp_amount) >= (actie.amount_of_stamps * page)\">\r\n                <div class=\"information\">\r\n                    Scan deze QR-code bij een kassa medewerker om uw spaarzegels in te wisselen.\r\n                </div>\r\n                <div class=\"qrcode\">\r\n                    <QRCodeVue3\r\n                        :width=\"200\"\r\n                        :height=\"200\"\r\n                        :value=\"`change||${state.customerActie.customer_has_spaaractie_id}`\"\r\n                        :qrOptions=\"{ typeNumber: 0, mode: 'Byte', errorCorrectionLevel: 'H' }\"\r\n                        :imageOptions=\"{ hideBackgroundDots: false, imageSize: 0.4, margin: 0 }\"\r\n                        :dotsOptions=\"{\r\n                            type: 'square',\r\n                            color: '#000000',\r\n                            gradient: {\r\n                            type: 'linear',\r\n                            rotation: 0,\r\n                            colorStops: [\r\n                                { offset: 0, color: '#000000' },\r\n                                { offset: 1, color: '#000000' },\r\n                            ],\r\n                            },\r\n                        }\"\r\n                        :backgroundOptions=\"{ color: '#ffffff' }\"\r\n                        :cornersSquareOptions=\"{ type: 'square', color: '#000000' }\"\r\n                        :cornersDotOptions=\"{ type: undefined, color: '#000000' }\"\r\n                        fileExt=\"png\"\r\n                        :download=\"false\"\r\n                        class=\"qrcode\"\r\n                        imgclass=\"img-qr\"\r\n                        downloadButton=\"download\"\r\n                        :downloadOptions=\"{ name: 'vqr', extension: 'png' }\"\r\n                        />\r\n                </div>\r\n            </div>\r\n\r\n\r\n            </div>\r\n            <div class=\"back\">\r\n                <p>back page {{page}}</p>\r\n            </div>\r\n            </div>\r\n        <div class=\"page\" :id=\"`page-${props.pageAmount+1}`\" :style=\"{'z-index': getZIndex(props.pageAmount+1), 'background-color': actie.maincolor}\">\r\n            \r\n            <div class=\"front\" :style=\"{'background-color': actie.maincolor}\">\r\n                <div \r\n                    class=\"stampfield backpage\" \r\n                    :style=\"{ /*backgroundImage: `url('${actie.background_card} ')`,*/ 'background-color': actie.maincolor }\"\r\n                >\r\n                    <div class=\"front-image\">\r\n                        <img :src=\"`https://www.cooplubbers.nl${actie.back_imgurl}`\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"back\">\r\n                <p>back page {{props.pageAmount+1}}</p>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>    \r\n    <span class=\"icon-arrow_forward\" id=\"next\" @click=\"flipPage()\">\r\n      <svg\r\n          id=\"Layer_1\" \r\n          style=\"width:100%;\"\r\n          version=\"1.1\" \r\n          viewBox=\"0 0 512 512\" \r\n          color=\"#fff\" \r\n          xml:space=\"preserve\" \r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon fill=\"#fff\" points=\"250,60 100,400 400,400 \"/></svg>\r\n   </span>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped> \r\n.folder{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: 8% 84% 8%;\r\n}\r\n.booklet{        \r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n  position: relative;\r\n}\r\n\r\n.book {\r\n    width: 100%;\r\n    height: 100%;\r\n    perspective: 2000px;\r\n    position: relative;\r\n}\r\n  \r\n  .page {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    border: 1px solid black;\r\n    box-sizing: border-box;\r\n    transition: transform 2.2s ease, right 2.30s ease;\r\n    transform: rotateY(0deg);\r\n    /*transform-style: preserve-3d;*/\r\n    background-color: white;\r\n    right: 0;\r\n    transform-origin: center left;\r\n    z-index: 0;\r\n    backface-visibility: hidden;\r\n    -webkit-backface-visibility: hidden;\r\n    box-shadow: 3px 5px 6px 4px #272727c7;\r\n  }\r\n\r\n\r\n  \r\n\r\n.page .front{\r\n  position: absolute;\r\n  right:0 ;\r\n  background: grey;\r\n  height: 100%;\r\n  width: 100%;\r\n  backface-visibility: hidden;\r\n}\r\n.page .back{\r\n  position: absolute;\r\n  right:0 ;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 99;\r\n  background: grey;\r\n  transform: rotateY(180deg);\r\n  backface-visibility: hidden;\r\n  display: none;\r\n}\r\n\r\n\r\n  .page.flipped{\r\n    transform: rotateY(-180deg);\r\n    z-index: 2;\r\n    background: blue;\r\n  }\r\n  .page.flipped.transitioning{\r\n    z-index: 90 !important;\r\n  }\r\n\r\n  \r\n\r\n  .page.visible{\r\n    z-index: 2;\r\n  }\r\n  .page.reversed{\r\n    transform: translateX(-100%) rotateY(-180deg);\r\n  }\r\n\r\n  .page.even{\r\n    right:0;\r\n    //transform: translateX(-100%);\r\n  }\r\n  .page.odd{\r\n    transform: rotateY(-180deg);\r\n    right:0;\r\n    //transform: translateX(-100%);\r\n  }\r\n  .page.odd.visible{    \r\n    transform: translateX(-100%) rotateY(-360deg);\r\n    right:0;\r\n  }\r\n  .page.even.visible{    \r\n   // transform: rotateY(-180deg) translateX(-50%);\r\n  }\r\n  .page0{\r\n    background: grey;\r\n  }\r\n\r\n  .folder span{\r\n    position: relative;\r\n    color:#fff;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    z-index: 11;\r\n}\r\n#prev{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: rgba(253, 253, 253, 0.4);\r\n\r\n}\r\n#next{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: rgba(253, 253, 253, 0.4);\r\n\r\n}\r\n#prev svg{\r\n  width: 100%;\r\n  right:10%;\r\n    transform: rotate(-90deg);\r\n}\r\n#next svg{\r\n  width: 100%;\r\n  left:10%;\r\n    transform: rotate(90deg);\r\n}\r\n#prev svg,\r\n#next svg{\r\n    width:100% !important;\r\n    fill: #fff;\r\n    color: #ffffff;\r\n    position: absolute;\r\n    top: calc(50% - 10px);\r\n}\r\n#prev polygon, #next polygon{\r\n    fill: #fff;\r\n}\r\n#prev svg:hover,\r\n#next svg:hover{\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n  .stamps{\r\n    position: relative;\r\n    max-width: 100%;\r\n    display: grid;\r\n    grid-gap: 2%;\r\n    margin-left: 1%;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n    height: 95%;\r\n}\r\n\r\n.voucher-page{\r\n  position: absolute;\r\n    top: 10px;\r\n    width: 100%;\r\n    font-size: 1.6rem;\r\n    color: #ffffff;\r\n}\r\n.frontpage{\r\n    height: 100%;\r\n}\r\n.frontpage .front-image{\r\n    height: inherit;\r\n}\r\n.frontpage .front-image img{\r\n    height: 100%;\r\n    width: auto;\r\n    max-width: 100%;\r\n    object-fit: contain;\r\n}\r\n.backpage{\r\n    height: 100%;\r\n}\r\n.backpage .front-image{\r\n    height: inherit;\r\n}\r\n.backpage .front-image img{\r\n  height: max-content;\r\n  width: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.full-stamps{\r\n  width: 80%;\r\n  height: fit-content;\r\n  max-height: 60%;\r\n  background-color: #ececec;\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  top: 20%;\r\n  left: 10%;\r\n}\r\n.full-stamps img{\r\n  max-height: 60%;\r\n}\r\n.full-stamps .information{\r\n  color: black;\r\n  font-size: 1.4rem;\r\n  text-transform: none;\r\n}\r\n</style>","import script from \"./Actiefolder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Actiefolder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Actiefolder.vue?vue&type=style&index=0&id=66ff973b&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-66ff973b\"]])\n\nexport default __exports__","<template>\r\n\t<div class=\"actiepage\">\r\n        <div class=\"header\">\r\n                <div class=\"stampheader\" >\r\n                    <div class=\"amount\" v-html=\"`Zegels: ${state.stamp_amount || 0}`\"></div>\r\n                    <div class=\"amount\" v-html=\"`Munten: ${coin_amount || 0}`\"></div>\r\n                    <!--<Coinexchange :actie=\"actie\" :clickable=\"false\"/>-->\r\n                </div>\r\n                <div class=\"stampheader-right\">\r\n                    <div class=\"physical\" v-if=\"actie.spaaractie_id == state.knuffels && state.stamp_amount > 0\">\r\n                        <label>Fysieke zegels:</label> <input type=\"number\" min=\"0\" v-model=\"state.physical\" />\r\n                    </div>\r\n                    <router-link :to=\"`/actieshop/${actie.slug}`\"><button class=\"to-products\"  v-html=\"`Actiewinkel`\" v-if=\"actie.spaaractie_products.length != 0\"></button></router-link>                \r\n                \r\n                </div>\r\n            </div>\r\n        <div class=\"actieinfo\" v-if=\"!state.openShop\">\r\n            \r\n            \r\n            <Actiefolder \r\n                :pageAmount=\"state.pages\"\r\n                :doublePage=\"true\"\r\n                :actie=\"actie\"\r\n                :customerActie=\"state.customer_actie\"\r\n                :voucher=\"false\"\r\n            />  \r\n                \r\n        </div>\r\n        <div class=\"info\" v-if=\"state.currentPage == 0\">\r\n            <span @click=\"state.tacopen = true\">&#9432; Spelregels</span>\r\n        </div>            \r\n        <div class=\"modal-overlay\" v-if=\"state.tacopen\">\r\n            <div class=\"tac\">\r\n                <Tacpdf\r\n                    :pdfurl=\"actie.tac\"\r\n                    :pdfLength=\"actie.tac_pages\"\r\n                    :tac=\"actie.terms.content\"\r\n                />\r\n                <button class=\"return\" @click=\"state.tacopen = false\" v-html=\"`Sluiten`\"></button>\r\n            </div>                \r\n        </div>\r\n        <!--\r\n        <div class=\"coinexchange\">\r\n            <Coinexchange \r\n                :actie=\"actie\" />\r\n        </div>-->\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, onBeforeUpdate, watch } from 'vue';\r\n\t\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Stamp from '@/components/SpaaractieScreen/Stamp.vue'\r\nimport Coinexchange from '@/components/SpaaractieScreen/Coinexchange.vue'\r\nimport Actiefolder from '@/components/SpaaractieScreen/Actiefolder.vue';\r\n    import QRCodeVue3 from \"qrcode-vue3\";\r\nimport { useStore } from 'vuex'\r\n\r\nimport Tacpdf from '@/components/SpaaractieScreen/TAC.vue'\r\n\r\nimport $ from 'jquery'\r\n\r\nconst store = useStore()\r\n\r\nconst props = defineProps({\r\n    'actie': Object\r\n})\r\n\r\nconst state = reactive({\r\n    publicPath: process.env.BASE_URL,\r\n    productModalOpened: false,\r\n    customer_actie: [],\r\n    stamp_amount: null,\r\n    pages: 3,\r\n    currentPage: 0,\r\n    openShop: false,\r\n    customer_info: null,\r\n    tacopen: false,\r\n    knuffels: '9db8ff37-3611-11ed-b67e-0242ac110003',\r\n    //knuffels: 'a6df99a0-301e-11ed-b67e-0242ac110003',\r\n    physical: 0\r\n})\r\n\r\n        function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\nconst coin_amount = computed(() => {\r\n    return state.customer_info?.storepoints || 0\r\n})\r\n\r\nconst stamp_amount = computed(() => {\r\n    return state.customer_actie.stamp_amount\r\n})\r\n\r\nfunction coinExchange(last){\r\n    if(state.customer_info.storepoints < props.actie.point_for_stamp){\r\n        alert(\"U heeft te weinig munten om in te leveren voor zegels\")\r\n    }\r\n    else{\r\n        if(confirm(`Wilt u ${props.actie.point_for_stamp} munten inwisselen voor 1 zegel? Dit kan niet terug gezet worden.`)){\r\n            if(last){\r\n                exchangePoints(1)\r\n                if(state.stamp_amount + 1 % props.actie.amount_of_stamps == 0 ) state.pages += 1\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction exchangePoints(amount){\r\n    const id = localStorage.getItem(\"user_id\");\r\n    const token = localStorage.getItem(\"access_token\");\r\n\r\n    const params = {\r\n        info: {\r\n        customer_id: id,\r\n        accessToken: token,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n        storepoints: state.customer_info.storepoints,\r\n        amount_exchange: amount\r\n    }  ,\r\n    where:{\r\n        customer_has_spaaractie_id: state.customer_actie.customer_has_spaaractie_id,\r\n        customer_id: id,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n    } }\r\n    HTTP.put(\"customer_spaaractie\", {params})\r\n    .then(() =>{        \r\n            getCustomerInfo()\r\n            getCustomerActies()\r\n    })\r\n}\r\n\r\n        function getCustomerActies(){\r\n        HTTP.get(`customer_spaaractie/${localStorage.getItem('user_id')}`)\r\n        .then((response) => {\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                if(props.actie.spaaractie_id == response.data[index].spaaractie_id){\r\n                    state.customer_actie = response.data[index]\r\n                    store.commit('location/changeCurrentActie', state.customer_actie)\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n                    if (state.pages  < 3) state.pages = 3\r\n                    initSlider()\r\n                }\r\n                /*else{\r\n                    store.commit('changeCurrentActie', state.customer_actie)\r\n                    state.customer_actie.point_amount = 0\r\n                    state.customer_actie.spaaractie_id = props.actie.spaaractie_id\r\n                    state.customer_actie.stamp_amount = 0\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n                    if (state.pages  < 3) state.pages = 3\r\n                    console.log(state.stamp_amount/props.actie.amount_of_stamps)\r\n                    initSlider()\r\n                }*/\r\n            }\r\n           \r\n        })\r\n        .catch(() => {\r\n        })\r\n    }\r\n\r\n    function goNext(){\r\n        if (state.currentPage != state.pages + 1) state.currentPage = state.currentPage + 1\r\n        else{\r\n            state.currentPage = 0\r\n        }\r\n    }\r\n\r\n        function goPrev(){\r\n            if (state.currentPage != 0) state.currentPage = state.currentPage - 1\r\n            else{\r\n                state.currentPage = state.pages + 1\r\n            }\r\n        }\r\n\r\n    function initSlider(){\r\n\r\n        let arrowIconLeft = '<?xml version=\"1.0\" ?><!DOCTYPE svg  PUBLIC \\'-//W3C//DTD SVG 1.1//EN\\'  \\'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\'><svg height=\"50px\" id=\"Layer_1\" style=\"enable-background:new 0 0 50 50;\" version=\"1.1\" viewBox=\"0 0 512 512\" width=\"50px\" color=\"#fff\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon fill=\"#fff\" points=\"250,60 100,400 400,400 \"/></svg>';\r\n        let prev = document.getElementById('prev');\r\n        let next = document.getElementById('next');\r\n        prev.innerHTML = arrowIconLeft;\r\n        next.innerHTML = arrowIconLeft;\r\n        next.querySelector('svg').style.transform = 'rotate(90deg)';\r\n        prev.querySelector('svg').style.transform = 'rotate(-90deg)';\r\n        document.addEventListener('keydown',function(e){\r\n            if(e.code === 'ArrowRight'){\r\n                goNext();\r\n            }else if(e.code === 'ArrowLeft'){\r\n                goPrev();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    function initSwipe(){\r\n        let touchstartX = 0\r\n        let touchendX = 0\r\n            \r\n        function checkDirection() {\r\n        if (touchendX < touchstartX - 50) goNext()\r\n        if (touchendX > touchstartX + 50) goPrev()\r\n        }\r\n    }\r\n\r\n    const loggedIn = computed(() => {\r\n\t\treturn store.getters['shopsettings/getLoggedIn']\r\n\t})\r\n\r\nonMounted(() => {\r\n        store.commit('location/changeActie', props.actie)\r\n        if(loggedIn.value){\r\n            getCustomerActies() \r\n            getCustomerInfo()\r\n        }\r\n        else{\r\n            state.pages = 1\r\n            initSlider()\r\n        }\r\n        initSwipe()\r\n        //var slides = document.getElementsByClassName('')\r\n\t})\r\n\r\nwatch(() => store.getters['location/getCurrentActie'], (newVal, oldVal) => {\r\n    getCustomerInfo()\r\n    state.customer_actie = store.getters['location/getCurrentActie']\r\n    state.stamp_amount = state.customer_actie.stamp_amount\r\n    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n    if (state.pages  < 3) state.pages = 3\r\n},{immidiate: true, deep: true})\r\n\r\nonBeforeUpdate(() => {\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .stampheader-right{\r\n        width: 55%;\r\n    }\r\n    .physical{\r\n        width: 100%;\r\n        font-size: 1rem;\r\n        max-height: 40%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        align-content: flex-start;\r\n    }\r\n    .physical label{\r\n        max-width: 65%;\r\n    }\r\n    .physical input{\r\n        max-width: 35%;\r\n        font-size: 1rem;\r\n        line-height: 1.1rem;\r\n    }\r\n    \r\n    .error-mess{\r\n        max-width: 100%;\r\n        font-size: 0.9rem;\r\n    }\r\n    .tac{\r\n        display: flex;\r\n        flex-direction: column;\r\n        flex-wrap: nowrap;\r\n        align-content: center;\r\n        justify-content: flex-start;\r\n        align-items: center;\r\n        padding-top: 10px;\r\n    }\r\n    .actiepage{\r\n    height: inherit;    \r\n    display: grid;\r\n    grid-template-rows: min-content 70%;\r\n}\r\n.actieinfo{\r\n    padding-bottom: 20px;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding-top: 20px;\r\n}\r\n.actieshop{\r\n    height: 99%;\r\n}\r\n.header{\r\n    display: flex;\r\n    width: 100%;\r\n    font-size: 1.4rem;\r\n    color: #ffffff;\r\n    stroke: 1px solid #000000;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: space-evenly;\r\n    padding-top: 10px;\r\n    align-items: flex-start;\r\n}\r\n.header > div{\r\n    width:40%;\r\n}\r\n.header .amount{\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n    margin: 2px;\r\n}\r\n.header button{\r\n    margin: 5px 0;\r\n}\r\n.stampfield{\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    max-width: 100%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: fit-content;\r\n    min-height: 75vh;\r\n    max-height: 80vh;\r\n    position: relative;\r\n}\r\n.front-image{\r\n    height: 100%;\r\n    width: auto;\r\n}\r\n.to-products{\r\n    font-size: 1.1rem;\r\n    background-color: #ffffff;\r\n    border-color: #ececec;\r\n}\r\n.stampfield h1{\r\n    color: #ffffff;\r\n    padding-top: 0px;\r\n    padding-bottom: 0px;\r\n    font-size: 1.3rem;\r\n}\r\n.stamps{\r\n    position: relative;\r\n    width: 95%;\r\n\tdisplay: grid;\r\n    grid-gap: 5px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n}\r\n\r\n\r\n.slider{\r\n    width: 100%;\r\n    height: 550px;\r\n    margin: 0 auto;\r\n    position: relative;    \r\n}\r\n\r\n.slides{\r\n   /* height: 100%;*/\r\n    left: 100%;\r\n}\r\n\r\n.slides .active {\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n.slides .back {\r\n    left: 100%;\r\n    z-index: 2;\r\n}\r\n.slides .front {\r\n    left: -100%;\r\n    z-index: 2;\r\n}\r\n.slides>div{\r\n    width:100%;\r\n    height: min-content;\r\n    position: absolute;\r\n    transition: all 1s;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: fit-content;    \r\n    background-position: top;\r\n}\r\n.slider span{\r\n    height: 50px;\r\n    width: 50px;\r\n    position: absolute;\r\n    top:50%;\r\n    margin:-25px 0 0 0;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    color:#fff;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    z-index: 11;\r\n}\r\n.title{\r\n    top:80% !important;\r\n    font-size: 30px;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    cursor: auto !important;\r\n    padding: 0 20px;\r\n}\r\n.slides{\r\n    font-size: 30px;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    color: #fff;\r\n}\r\n#prev{\r\n    left:0;\r\n    border-radius: 0 10px 10px 0;\r\n}\r\n#next{\r\n    right:0;\r\n    border-radius:10px 0 0 10px;\r\n}\r\n#prev svg,#next svg{\r\n    width:100%;\r\n    fill: #fff;\r\n    color: #ffffff;\r\n}\r\n#prev polygon, #next polygon{\r\n    fill: #fff;\r\n}\r\n#prev:hover,\r\n#next:hover{\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n.info{\r\n    font-size: 1.8rem;\r\n    z-index: 11;\r\n    display: inline-block;\r\n    text-align: left;\r\n    color: #ffffff;\r\n    left: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: calc(6% + 10px);\r\n}\r\n.full-stamps{\r\n    width: 80%;\r\n    height: fit-content;\r\n    max-height: 60%;\r\n    background-color: #ececec;\r\n    border: 1px solid black;\r\n    position: absolute;\r\n    top: 20%;\r\n    left: 10%;\r\n}\r\n.full-stamps img{\r\n    max-height: 60%;\r\n}\r\n.full-stamps .information{\r\n    color: black;\r\n    font-size: 1.4rem;\r\n    text-transform: none;\r\n}\r\n\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .front-page img{\r\n        height: 100%;\r\n        width: auto;\r\n    }\r\n    .stamps{\r\n        width: 50%;\r\n    }\r\n}\r\n</style>","import script from \"./Stampfield1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Stampfield1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Stampfield1.vue?vue&type=style&index=0&id=3c87548c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3c87548c\"]])\n\nexport default __exports__","<template>\r\n\t<div class=\"actiepage\">\r\n        <div class=\"header\">\r\n                <div class=\"stampheader\" >\r\n                    <div class=\"amount\" v-html=\"`Zegels: ${state.stamp_amount || 0}`\"></div>\r\n                    <div class=\"amount\" v-html=\"`Munten: ${coin_amount || 0}`\"></div>\r\n                    <!--<Coinexchange :actie=\"actie\" :clickable=\"false\"/>-->\r\n                </div>\r\n                <div class=\"stampheader-right\">\r\n                    <div class=\"physical\" v-if=\"actie.spaaractie_id == state.knuffels && state.stamp_amount > 0\">\r\n                        <label>Fysieke zegels:</label> <input type=\"number\" min=\"0\" v-model=\"state.physical\" />\r\n                    </div>\r\n                    <router-link :to=\"`/actieshop/${actie.slug}`\"><button class=\"to-products\"  v-html=\"`Actiewinkel`\" v-if=\"actie.spaaractie_products.length != 0\"></button></router-link>                \r\n                \r\n                </div>\r\n            </div>\r\n        <div class=\"actieinfo\" v-if=\"!state.openShop\">\r\n            \r\n            \r\n            <Actiefolder \r\n                :pageAmount=\"state.pages\"\r\n                :doublePage=\"true\"\r\n                :actie=\"actie\"\r\n                :customerActie=\"state.customer_actie\"\r\n                :voucher=\"true\"\r\n            />  \r\n                \r\n        </div>\r\n        <div class=\"info\" v-if=\"state.currentPage == 0\">\r\n            <span @click=\"state.tacopen = true\">&#9432; Spelregels</span>\r\n        </div>            \r\n        <div class=\"modal-overlay\" v-if=\"state.tacopen\">\r\n            <div class=\"tac\">\r\n                <Tacpdf\r\n                    :pdfurl=\"actie.tac\"\r\n                    :pdfLength=\"actie.tac_pages\"\r\n                    :tac=\"actie.terms.content\"\r\n                />\r\n                <button class=\"return\" @click=\"state.tacopen = false\" v-html=\"`Sluiten`\"></button>\r\n            </div>                \r\n        </div>\r\n        <!--\r\n        <div class=\"coinexchange\">\r\n            <Coinexchange \r\n                :actie=\"actie\" />\r\n        </div>-->\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, onBeforeUpdate, watch } from 'vue';\r\n\t\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Stamp from '@/components/SpaaractieScreen/Voucher.vue'\r\nimport Coinexchange from '@/components/SpaaractieScreen/Coinexchange.vue'\r\nimport Actiefolder from '@/components/SpaaractieScreen/Actiefolder.vue';\r\nimport { useStore } from 'vuex'\r\nimport Tacpdf from '@/components/SpaaractieScreen/TAC.vue'\r\n\r\nimport $ from 'jquery'\r\n\r\nconst store = useStore()\r\n\r\nconst props = defineProps({\r\n    'actie': Object\r\n})\r\n\r\nconst state = reactive({\r\n    publicPath: process.env.BASE_URL,\r\n    productModalOpened: false,\r\n    customer_actie: [],\r\n    stamp_amount: null,\r\n    pages: 3,\r\n    currentPage: 0,\r\n    openShop: false,\r\n    customer_info: null,\r\n    tacopen: false\r\n})\r\n\r\n        function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\nconst coin_amount = computed(() => {\r\n    return state.customer_info?.storepoints || 0\r\n})\r\n\r\nconst stamp_amount = computed(() => {\r\n    return state.customer_actie.stamp_amount\r\n})\r\n\r\nfunction coinExchange(last){\r\n    if(state.customer_info.storepoints < props.actie.point_for_stamp){\r\n        alert(\"U heeft te weinig munten om in te leveren voor zegels\")\r\n    }\r\n    else{\r\n        if(confirm(`Wilt u ${props.actie.point_for_stamp} munten inwisselen voor 1 zegel?`)){\r\n            if(last){\r\n                exchangePoints(1)\r\n                if(state.stamp_amount + 1 % props.actie.amount_of_stamps == 0 ) state.pages += 1\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction exchangePoints(amount){\r\n    const id = localStorage.getItem(\"user_id\");\r\n    const token = localStorage.getItem(\"access_token\");\r\n\r\n    const params = {\r\n        info: {\r\n        customer_id: id,\r\n        accessToken: token,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n        storepoints: state.customer_info.storepoints,\r\n        amount_exchange: amount\r\n    },\r\n    where:{\r\n        customer_has_spaaractie_id: state.customer_actie.customer_has_spaaractie_id\r\n    } }\r\n   // HTTP.put(\"customer_spaaractie\", {params})\r\n    //.then(response =>{\r\n   //     getCustomerInfo()\r\n   //     getCustomerActies()\r\n   // })\r\n}\r\n\r\n\t\t/*\r\n\t\tnewline:function(html){\r\n\t\t\thtml = html.replace(new RegExp('\\r?\\n','g'), '<br />');\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\t*/\r\n        function getCustomerActies(){\r\n        HTTP.get(`customer_spaaractie/${localStorage.getItem('user_id')}`)\r\n        .then((response) => {\r\n            for (let index = 0; index < response.data.length; index++) {\r\n                if(props.actie.spaaractie_id == response.data[index].spaaractie_id){\r\n                    state.customer_actie = response.data[index]\r\n                    store.commit('location/changeCurrentActie', state.customer_actie)\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n                    if (state.pages  < 3) state.pages = 3\r\n                    initSlider()\r\n                }\r\n                /*else{\r\n                    store.commit('changeCurrentActie', state.customer_actie)\r\n                    state.customer_actie.point_amount = 0\r\n                    state.customer_actie.spaaractie_id = props.actie.spaaractie_id\r\n                    state.customer_actie.stamp_amount = 0\r\n                    state.stamp_amount = state.customer_actie.stamp_amount\r\n                    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n                    if (state.pages  < 3) state.pages = 3\r\n                    initSlider()\r\n                }*/\r\n            }\r\n           \r\n        })\r\n        .catch(() => {\r\n        })\r\n    }\r\n\r\n    function goNext(){\r\n        if (state.currentPage != state.pages + 1) state.currentPage = state.currentPage + 1\r\n        else{\r\n            state.currentPage = 0\r\n        }\r\n    }\r\n\r\n        function goPrev(){\r\n            if (state.currentPage != 0) state.currentPage = state.currentPage - 1\r\n            else{\r\n                state.currentPage = state.pages + 1\r\n            }\r\n        }\r\n\r\n    function initSlider(){\r\n\r\n        let arrowIconLeft = '<?xml version=\"1.0\" ?><!DOCTYPE svg  PUBLIC \\'-//W3C//DTD SVG 1.1//EN\\'  \\'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\'><svg height=\"50px\" id=\"Layer_1\" style=\"enable-background:new 0 0 50 50;\" version=\"1.1\" viewBox=\"0 0 512 512\" width=\"50px\" color=\"#fff\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon fill=\"#fff\" points=\"250,60 100,400 400,400 \"/></svg>';\r\n        let prev = document.getElementById('prev');\r\n        let next = document.getElementById('next');\r\n        prev.innerHTML = arrowIconLeft;\r\n        next.innerHTML = arrowIconLeft;\r\n        next.querySelector('svg').style.transform = 'rotate(90deg)';\r\n        prev.querySelector('svg').style.transform = 'rotate(-90deg)';\r\n        document.addEventListener('keydown',function(e){\r\n            if(e.code === 'ArrowRight'){\r\n                goNext();\r\n            }else if(e.code === 'ArrowLeft'){\r\n                goPrev();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    function initSwipe(){\r\n        let touchstartX = 0\r\n        let touchendX = 0\r\n            \r\n        function checkDirection() {\r\n        if (touchendX < touchstartX - 50) goNext()\r\n        if (touchendX > touchstartX + 50) goPrev()\r\n        }\r\n    }\r\n\r\n    const loggedIn = computed(() => {\r\n\t\treturn store.getters['shopsettings/getLoggedIn']\r\n\t})\r\n\r\nonMounted(() => {\r\n        store.commit('location/changeActie', props.actie)\r\n        if(loggedIn.value){\r\n            getCustomerActies() \r\n            getCustomerInfo()\r\n        }\r\n        else{\r\n            state.pages = 1\r\n            initSlider()\r\n        }\r\n        initSwipe()\r\n        //var slides = document.getElementsByClassName('')\r\n\t})\r\n\r\nwatch(() => store.getters['location/getCurrentActie'], (newVal, oldVal) => {\r\n    getCustomerInfo()\r\n    state.customer_actie = store.getters['location/getCurrentActie']\r\n    state.stamp_amount = state.customer_actie.stamp_amount\r\n    state.pages = Math.ceil(state.stamp_amount/props.actie.amount_of_stamps) + 1\r\n    if (state.pages  < 3) state.pages = 3\r\n},{immidiate: true, deep: true})\r\n\r\nonBeforeUpdate(() => {\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .stampheader-right{\r\n        width: 55%;\r\n    }\r\n    .physical{\r\n        width: 100%;\r\n        font-size: 1rem;\r\n        max-height: 40%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        align-content: flex-start;\r\n    }\r\n    .physical label{\r\n        max-width: 65%;\r\n    }\r\n    .physical input{\r\n        max-width: 35%;\r\n        font-size: 1rem;\r\n        line-height: 1.1rem;\r\n    }\r\n    \r\n    .error-mess{\r\n        max-width: 100%;\r\n        font-size: 0.9rem;\r\n    }\r\n    .tac{\r\n        display: flex;\r\n        flex-direction: column;\r\n        flex-wrap: nowrap;\r\n        align-content: center;\r\n        justify-content: flex-start;\r\n        align-items: center;\r\n        padding-top: 10px;\r\n    }\r\n    .actiepage{\r\n    height: inherit;    \r\n    display: grid;\r\n    grid-template-rows: min-content 70%;\r\n}\r\n.actieinfo{\r\n    padding-bottom: 20px;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding-top: 20px;\r\n}\r\n.actieshop{\r\n    height: 99%;\r\n}\r\n.header{\r\n    display: flex;\r\n    width: 100%;\r\n    font-size: 1.4rem;\r\n    color: #ffffff;\r\n    stroke: 1px solid #000000;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: space-evenly;\r\n    padding-top: 10px;\r\n    align-items: flex-start;\r\n}\r\n.header > div{\r\n    width:40%;\r\n}\r\n.header .amount{\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n    margin: 2px;\r\n}\r\n.header button{\r\n    margin: 5px 0;\r\n}\r\n.stampfield{\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    max-width: 100%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: fit-content;\r\n    min-height: 75vh;\r\n    max-height: 80vh;\r\n    position: relative;\r\n}\r\n.front-image{\r\n    height: 100%;\r\n    width: auto;\r\n}\r\n.to-products{\r\n    font-size: 1.1rem;\r\n    background-color: #ffffff;\r\n    border-color: #ececec;\r\n}\r\n.stampfield h1{\r\n    color: #ffffff;\r\n    padding-top: 0px;\r\n    padding-bottom: 0px;\r\n    font-size: 1.3rem;\r\n}\r\n.stamps{\r\n    position: relative;\r\n    width: 95%;\r\n\tdisplay: grid;\r\n    grid-gap: 5px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n}\r\n\r\n\r\n.slider{\r\n    width: 100%;\r\n    height: 550px;\r\n    margin: 0 auto;\r\n    position: relative;    \r\n}\r\n\r\n.slides{\r\n   /* height: 100%;*/\r\n    left: 100%;\r\n}\r\n\r\n.slides .active {\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n.slides .back {\r\n    left: 100%;\r\n    z-index: 2;\r\n}\r\n.slides .front {\r\n    left: -100%;\r\n    z-index: 2;\r\n}\r\n.slides>div{\r\n    width:100%;\r\n    height: min-content;\r\n    position: absolute;\r\n    transition: all 1s;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: fit-content;    \r\n    background-position: top;\r\n}\r\n.slider span{\r\n    height: 50px;\r\n    width: 50px;\r\n    position: absolute;\r\n    top:50%;\r\n    margin:-25px 0 0 0;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    color:#fff;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    z-index: 11;\r\n}\r\n.title{\r\n    top:80% !important;\r\n    font-size: 30px;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    cursor: auto !important;\r\n    padding: 0 20px;\r\n}\r\n.slides{\r\n    font-size: 30px;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    color: #fff;\r\n}\r\n#prev{\r\n    left:0;\r\n    border-radius: 0 10px 10px 0;\r\n}\r\n#next{\r\n    right:0;\r\n    border-radius:10px 0 0 10px;\r\n}\r\n#prev svg,#next svg{\r\n    width:100%;\r\n    fill: #fff;\r\n    color: #ffffff;\r\n}\r\n#prev polygon, #next polygon{\r\n    fill: #fff;\r\n}\r\n#prev:hover,\r\n#next:hover{\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n.info{\r\n    font-size: 1.8rem;\r\n    z-index: 11;\r\n    display: inline-block;\r\n    text-align: left;\r\n    color: #ffffff;\r\n    left: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: calc(6% + 10px);\r\n}\r\n.full-stamps{\r\n    width: 80%;\r\n    height: fit-content;\r\n    max-height: 60%;\r\n    background-color: #ececec;\r\n    border: 1px solid black;\r\n    position: absolute;\r\n    top: 20%;\r\n    left: 10%;\r\n}\r\n.full-stamps img{\r\n    max-height: 60%;\r\n}\r\n.full-stamps .information{\r\n    color: black;\r\n    font-size: 1.4rem;\r\n    text-transform: none;\r\n}\r\n\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .front-page img{\r\n        height: 100%;\r\n        width: auto;\r\n    }\r\n    .stamps{\r\n        width: 50%;\r\n    }\r\n}\r\n</style>","import script from \"./Voucherfield1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Voucherfield1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Voucherfield1.vue?vue&type=style&index=0&id=182c56fe&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-182c56fe\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"actiepage coinpage\">\r\n        <div class=\"actieinfo\" v-if=\"!state.openShop\">\r\n            <div class=\"stampfield frontpage\">\r\n                <div class=\"front-image\">\r\n                    <img :src=\"`img/acties/spaarmunten-back.jpeg`\" />\r\n                    <div class=\"coins\" v-html=\"coin_amount\"></div>\r\n                </div>\r\n            </div>\r\n            <p class=\"error\">Coop munten worden berekend over het restwaarde van het bedrag na het berekenen van de zegels van de overige acties. Klik op spelregels voor meer informatie</p>\r\n            <div class=\"info\">\r\n                <span @click=\"state.tacopen = true\">&#9432; Spelregels</span>\r\n            </div>            \r\n            <div class=\"modal-overlay\" v-if=\"state.tacopen\">\r\n                <div class=\"tac\">\r\n                    <Tacpdf\r\n                        :pdfurl=\"`spaarmunten_tac.pdf`\"\r\n                        :pdfLength=\"4\"\r\n                    />\r\n                    <button class=\"close-button\" @click=\"state.tacopen = false\" v-html=\"`Sluiten`\"></button>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n       <!-- </div>\r\n        \r\n        <div class=\"coinexchange\">\r\n            <Coinexchange \r\n                :actie=\"actie\" />\r\n        </div>-->\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, onBeforeUpdate } from 'vue';\r\n\t\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Coinexchange from '@/components/SpaaractieScreen/Coinexchange.vue'\r\nimport { useStore } from 'vuex'\r\n\r\nimport Tacpdf from '@/components/SpaaractieScreen/TAC.vue'\r\n\r\nimport $ from 'jquery'\r\n\r\nconst store = useStore()\r\n\r\nconst props = defineProps({\r\n})\r\n\r\nconst state = reactive({\r\n    publicPath: process.env.BASE_URL,\r\n    productModalOpened: false,\r\n    customer_actie: [],\r\n    stamp_amount: null,\r\n    pages: 3,\r\n    currentPage: 0,\r\n    openShop: false,\r\n    customer_info: null,\r\n    tacopen: false\r\n})\r\n\r\n        function getCustomerInfo(){\r\n            const id = localStorage.getItem(\"user_id\");\r\n            const token = localStorage.getItem(\"access_token\");\r\n\r\n            const params = {\r\n                customer_id: id,\r\n                accessToken: token\r\n            }\r\n            HTTP.get(\"customer\", {params})\r\n\r\n            .then(response => {\r\n                state.customer_info = response.data[0]\r\n            })\r\n            .catch(() => {\r\n            })\r\n        }\r\nconst coin_amount = computed(() => {\r\n    return state.customer_info?.storepoints || 0\r\n})\r\n\r\nconst stamp_amount = computed(() => {\r\n    return state.customer_actie.stamp_amount\r\n})\r\n\r\nfunction coinExchange(last){\r\n    if(state.customer_info.storepoints < props.actie.point_for_stamp){\r\n        alert(\"U heeft te weinig munten om in te leveren voor zegels\")\r\n    }\r\n    else{\r\n        if(confirm(`Wilt u ${props.actie.point_for_stamp} munten inwisselen voor 1 zegel? Dit kan niet terug gezet worden.`)){\r\n            if(last){\r\n                exchangePoints(1)\r\n                if(state.stamp_amount + 1 % props.actie.amount_of_stamps == 0 ) state.pages += 1\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction exchangePoints(amount){\r\n    const id = localStorage.getItem(\"user_id\");\r\n    const token = localStorage.getItem(\"access_token\");\r\n\r\n    const params = {\r\n        info: {\r\n        customer_id: id,\r\n        accessToken: token,\r\n        spaaractie_id: props.actie.spaaractie_id,\r\n        storepoints: state.customer_info.storepoints,\r\n        amount_exchange: amount\r\n    }  ,\r\n    where:{\r\n        customer_has_spaaractie_id: state.customer_actie.customer_has_spaaractie_id\r\n    } }\r\n    HTTP.put(\"customer_spaaractie\", {params})\r\n    .then(response =>{\r\n        getCustomerInfo()\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n        store.commit('changeActie', props.actie)\r\n        getCustomerInfo()\r\n\t})\r\n\r\n\r\nonBeforeUpdate(() => {\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .actiepage.coinpage{\r\n        background-color: var(--base-color);\r\n        min-height: 100%;\r\n    }\r\n    .error{\r\n        max-width: 90%;\r\n        font-size: 1rem;\r\n        color:#ffffff;\r\n        margin-left: auto;\r\n        margin-right: auto;\r\n    }\r\n    .close-button{\r\n        position: relative;\r\n        margin-left: auto;\r\n        right: 10px;\r\n    }\r\n    .tac{\r\n        display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    align-content: center;\r\n    justify-content: flex-start;\r\n    align-items: stretch;\r\n\tpadding-top: 10px;\r\n    }\r\n    .actiepage{\r\n    height: inherit;\r\n}\r\n.actieinfo{\r\n    height: 90%;\r\n    width: 100%;\r\n    overflow-y: scroll;\r\n    padding-bottom: 20px;\r\n}\r\n.actieshop{\r\n    height: 99%;\r\n}\r\n.header{\r\n    display: flex;\r\n    width: 100%;\r\n    font-size: 1.4rem;\r\n    color: #ffffff;\r\n    stroke: 1px solid #000000;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: space-evenly;\r\n    padding-top: 10px;\r\n    align-items: center;\r\n}\r\n\r\n.header .amount{\r\n    border: 1px solid;\r\n    padding: 5px;\r\n    border-radius: 10px;\r\n    margin: 2px;\r\n}\r\n.header button{\r\n    margin: 5px 0;\r\n}\r\n.stampfield{\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    max-width: 100%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: fit-content;\r\n    position: relative;\r\n}\r\n.front-image{\r\n    height: fit-content;\r\n    width: auto;\r\n    position: relative;\r\n}\r\n.front-image img {\r\n    max-height: 100%;\r\n    width: 100%;\r\n}\r\n.to-products{\r\n    font-size: 1.1rem;\r\n    background-color: #ffffff;\r\n    border-color: #ececec;\r\n}\r\n.stampfield h1{\r\n    color: #ffffff;\r\n    padding-top: 0px;\r\n    padding-bottom: 0px;\r\n    font-size: 1.3rem;\r\n}\r\n.stamps{\r\n    position: relative;\r\n    width: 95%;\r\n\tdisplay: grid;\r\n\tgrid-template-rows: repeat(5, 1fr);\r\n    grid-gap: 5px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n}\r\n\r\n\r\n.slider{\r\n    width: 100%;\r\n    height: 550px;\r\n    margin: 0 auto;\r\n    position: relative;    \r\n}\r\n\r\n.slides{\r\n    height: 100%;\r\n    left: 100%;\r\n}\r\n\r\n.slides .active {\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n.slides .back {\r\n    left: 100%;\r\n    z-index: 2;\r\n}\r\n.slides .front {\r\n    left: -100%;\r\n    z-index: 2;\r\n}\r\n.slides>div{\r\n    width:100%;\r\n    height: min-content;\r\n    position: absolute;\r\n    transition: all 1s;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: fit-content;    \r\n    background-position: top;\r\n}\r\n.slider span{\r\n    height: 50px;\r\n    width: 50px;\r\n    position: absolute;\r\n    top:50%;\r\n    margin:-25px 0 0 0;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    color:#fff;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    z-index: 11;\r\n}\r\n.title{\r\n    top:80% !important;\r\n    font-size: 30px;\r\n    font-weight: 800;\r\n    text-align: center;\r\n    cursor: auto !important;\r\n    padding: 0 20px;\r\n}\r\n.slides{\r\n    font-size: 30px;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    color: #fff;\r\n}\r\n#prev{\r\n    left:0;\r\n    border-radius: 0 10px 10px 0;\r\n}\r\n#next{\r\n    right:0;\r\n    border-radius:10px 0 0 10px;\r\n}\r\n#prev svg,#next svg{\r\n    width:100%;\r\n    fill: #fff;\r\n}\r\n#prev:hover,\r\n#next:hover{\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n.info{\r\n    font-size: 1.8rem;\r\n    z-index: 11;\r\n    display: inline-block;\r\n    text-align: left;\r\n    color: #000000;\r\n    left: 0;\r\n    position: absolute;\r\n    width: 100%;    \r\n    bottom: calc(5% + 10px);\r\n}\r\n\r\n.coins{\r\n    position: absolute;\r\n    display: block;\r\n    left: 20%;\r\n    bottom: 15%;\r\n    color: #ffffff;\r\n    font-size: 3.5rem;\r\n}\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .actieinfo{\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        grid-template-rows: 1fr 1fr;\r\n        height: unset;\r\n        max-height: 100%;\r\n    }\r\n    .stampfield{\r\n        grid-row: 1/3;\r\n        grid-column: 1;\r\n        height: unset;\r\n        max-height: 100%;\r\n    }\r\n    .front-image{\r\n        height: 100%;\r\n    }\r\n    .coins{\r\n        left: 18%;\r\n        bottom: 12%;\r\n        font-size: 4rem;\r\n    }\r\n    .error{\r\n        font-size: 1.5rem;\r\n        grid-row: 1;\r\n        grid-column: 2;\r\n    }\r\n    .info{\r\n        grid-row: 2;\r\n        grid-column: 2;\r\n        width: unset;\r\n        position: relative;\r\n        color: #ffffff;\r\n        font-size: 2.3rem;\r\n    }\r\n}\r\n</style>","import script from \"./CoinField.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CoinField.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CoinField.vue?vue&type=style&index=0&id=7e7825ed&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7e7825ed\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"acties\" :style=\"state.currentActie?.maincolor ? { backgroundColor : state.currentActie.maincolor} : {backgroundColor : '#ffffff'}\">\r\n        <h1 v-html=\"`Acties`\" v-if=\"!state.currentActie?.title\"></h1>\r\n        <div class=\"actie-list\" v-if=\"!state.currentActie?.title\">\r\n            \r\n            <div class=\"block coin\">\r\n                <div class=\"actie\">\r\n                    <button @click=\"openCoinActie()\">\r\n                        <img \r\n                            :src=\"`/img/acties/coopmunten.png`\" \r\n                        />  \r\n                    </button>                      \r\n                </div>\r\n            </div>\r\n            <div class=\"block running\">\r\n                <h2 v-html=\"`Lopende acties`\"></h2>\r\n                <div class=\"actie\" v-for=\"item in currentActie\" :key=\"item.spaaractie_id\">\r\n                    <button @click=\"state.currentActie = item\">\r\n                        <img \r\n                            :src=\"`${item.list_image}`\" \r\n                        />  \r\n                    </button>\r\n                    <router-link :to=\"`/actieshop/${item.slug}`\"><button class=\"to-products\" :style=\"{'color': '#ffffff', 'background-color': item.maincolor, 'border-color': item.maincolor}\" v-html=\"`Actiewinkel`\" v-if=\"item.spaaractie_products.length != 0\" @click=\"state.currentActie = item\"></button></router-link>  \r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"block coming\">\r\n                <h2 v-html=\"`Aankomende acties`\"></h2>\r\n                <div class=\"actie\" v-for=\"item in comingActies\" :key=\"item.spaaractie_id\">\r\n                    <button @click=\"state.currentActie = item\">\r\n                        <img \r\n                            :src=\"`${item.list_image}`\" \r\n                        />  \r\n                    </button>                      \r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"block finished\">\r\n                <h2 v-html=\"`Verlopen acties`\"></h2>\r\n                <div class=\"actie\" v-for=\"item in closedActies\" :key=\"item.spaaractie_id\">\r\n                    <button @click=\"state.currentActie = item\">\r\n                        <img \r\n                            :src=\"`${item.list_image}`\" \r\n                        />  \r\n                    </button>                      \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <button class=\"return back\" @click=\"state.currentActie = null;\" v-html=\"`Terug`\" v-if=\"state.currentActie?.title\"></button>\r\n       \r\n        <Coinfield v-if=\"state.currentActie?.title && state.currentActie.actietype_id == 0\"/>\r\n        <Stampfield :actie=\"state.currentActie\" v-if=\"state.currentActie?.title && state.currentActie.actietype_id == 1\" :key=\"state.currentActie.spaaractie_id\"/>\r\n        <Voucherfield :actie=\"state.currentActie\" v-if=\"state.currentActie?.title && state.currentActie.actietype_id == 2\" :key=\"state.currentActie.spaaractie_id\"/>\r\n\t</div>\t\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, watch, ref } from 'vue';\r\nimport {useRoute} from 'vue-router'\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport Stampfield from '@/components/SpaaractieScreen/Stampfield1.vue';\r\nimport Voucherfield from '@/components/SpaaractieScreen/Voucherfield1.vue';\r\nimport Coinfield from '@/components/SpaaractieScreen/CoinField.vue';\r\n\r\n    import { DateTime } from \"luxon\";\r\n\r\n\tconst route = useRoute();\r\n\r\n   const path = computed(() =>route.path)\r\n   \r\n\tconst state = reactive({\r\n        publicPath: process.env.BASE_URL,\r\n        acties: [],\r\n        currentActie: null,\r\n        today: DateTime.now(),\r\n        coinPage: 0\r\n\t})\r\n\r\n    onMounted(() => {\r\n        getActies()\r\n\t})\r\n\r\n    function getActies(){\r\n        HTTP.get(`spaaractie`)\r\n        .then((response) => {\r\n            state.acties = response.data\r\n        })\r\n        .catch(() => {\r\n            console.log(\"Kon acties niet ophalen\")\r\n        })\r\n    }\r\n\r\n    function openCoinActie(){\r\n        var actie = {\r\n            title: 'Muntenactie',\r\n            actietype_id: 0\r\n        }\r\n        state.currentActie = actie\r\n    }\r\n\r\n    const currentActie = computed(() => {\t\r\n\t\treturn state.acties.filter((item) => {\r\n\t\t\t\treturn DateTime.fromFormat(item.start_date, 'yyyy-MM-dd') < DateTime.now() && DateTime.now() < DateTime.fromFormat(item.end_date, 'yyyy-MM-dd')\r\n\t\t\t})\r\n\t}, {immediate: true, deep: true})\r\n\r\n\r\n    const comingActies = computed(() => {\t\t\r\n        return state.acties.filter((item) => {\r\n\t\t\t\treturn DateTime.fromFormat(item.start_date, 'yyyy-MM-dd') > DateTime.now()\r\n\t\t\t})\r\n\t}, {immediate: true, deep: true})\r\n\r\n    const closedActies = computed(() => {\t\t\r\n        return state.acties.filter((item) => {\r\n\t\t\t\treturn DateTime.now() > DateTime.fromFormat(item.end_date, 'yyyy-MM-dd')\r\n\t\t\t})\r\n\t}, {immediate: true, deep: true})\r\n\r\n</script>\r\n<style scoped>\r\n.acties {\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n}\r\n\r\n.acties h1{\r\n    background-color: #ffffff;\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n}\r\n.actie-list{\r\n    height: 100%;\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n    align-content: center;\r\n    width: 100%;\r\n}\r\n\r\n.actie-list .block{\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n}\r\n.actie{\r\n    max-width: 80%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    align-content: center;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n}\r\n.actie button{\r\n    width: 100%;\r\n    background: unset;\r\n    border: unset;\r\n    box-shadow: unset;\r\n    padding: 0px;\r\n    margin: 5px 0;\r\n}\r\n.acties .to-products{\r\n    background-color: var(--base-color);\r\n    border: 2px solid var(--base-color);\r\n    border-radius: 0.25rem;\r\n    box-shadow: 4px 4px 3px 0px #00000066;\r\n    -webkit-box-shadow: 4px 4px 3px 0px #00000066;\r\n    padding: 10px;\r\n    margin: 5px 0;\r\n    font-weight: 600;\r\n    color: #000000;\r\n    font-size: 1.4rem;\r\n    width: fit-content;\r\n}\r\n.actie button img{\r\n    height: auto;\r\n    width: 100%;\r\n}\r\n.back{\r\n    position: fixed;    \r\n    bottom: calc(5% + 10px);\r\n    right: 10px;\r\n    z-index: 12;    \r\n    border-color: #000;\r\n    font-size: 1.2rem;\r\n}\r\n.modal-overlay{\r\n    height: 100%;\r\n}\r\n.modal-overlay .back{\r\n    z-index: 20;\r\n}\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .actie-list{\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr;\r\n        grid-template-rows: min-content;\r\n        height: unset;\r\n        min-height: 100%;\r\n    }\r\n    .block{\r\n        height: 100%;\r\n    }\r\n    .block.coin{\r\n        grid-column: 2/4;\r\n        grid-row: 1;\r\n    }   \r\n    .block.running{\r\n        grid-column: 1/3;\r\n        grid-row: 2;\r\n    }  \r\n    .block.coming{\r\n        grid-column: 3/5;\r\n        grid-row: 2;\r\n    }  \r\n    .block.finished{\r\n        grid-column: 1/3;\r\n        grid-row: 3;\r\n    }  \r\n    .back{        \r\n        bottom: calc(6% + 10px);\r\n    }\r\n}\r\n\r\n\r\n@media only screen and (min-width: 500.98px) and (orientation: portrait) {\r\n    .actie-list{\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr;\r\n        grid-template-rows: min-content;\r\n        height: unset;\r\n        min-height: 100%;\r\n    }\r\n    .block{\r\n        height: 100%;\r\n    }\r\n    .block.coin{\r\n        grid-column: 2/4;\r\n        grid-row: 1;\r\n    }   \r\n    .block.running{\r\n        grid-column: 1/3;\r\n        grid-row: 2;\r\n    }  \r\n    .block.coming{\r\n        grid-column: 3/5;\r\n        grid-row: 2;\r\n    }  \r\n    .block.finished{\r\n        grid-column: 1/3;\r\n        grid-row: 3;\r\n    }  \r\n}\r\n</style>","import script from \"./Spaaracties.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Spaaracties.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Spaaracties.vue?vue&type=style&index=0&id=0a71106c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a71106c\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Actiefolder.vue?vue&type=style&index=0&id=66ff973b&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Stampfield1.vue?vue&type=style&index=0&id=3c87548c&scoped=true&lang=css\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Stamp.vue?vue&type=style&index=0&id=7c47d4b5&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CoinField.vue?vue&type=style&index=0&id=7e7825ed&scoped=true&lang=css\""],"sourceRoot":""}