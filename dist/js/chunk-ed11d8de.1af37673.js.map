{"version":3,"sources":["webpack:///./src/components/discountsPage/ShelfPicnicStyle.vue?bcd7","webpack:///./src/views/Discounts.vue?e57a","webpack:///./src/components/discountsPage/ShelfOldStyle.vue?4b76","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/components/discountsPage/ShelfUnit.vue","webpack:///./src/components/discountsPage/ShelfUnit.vue?2ad7","webpack:///./src/components/discountsPage/ShelfOldStyle.vue","webpack:///./src/components/discountsPage/ShelfOldStyle.vue?0c63","webpack:///./src/components/discountsPage/ShelfPicnicStyle.vue","webpack:///./src/components/discountsPage/ShelfPicnicStyle.vue?349d","webpack:///./src/components/discountsPage/Departments.vue","webpack:///./src/components/discountsPage/Departments.vue?19f4","webpack:///./src/views/Discounts.vue","webpack:///./src/views/Discounts.vue?3d48","webpack:///./src/components/discountsPage/Departments.vue?a305","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./src/components/discountsPage/ShelfUnit.vue?9e53"],"names":["$","DESCRIPTORS","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","target","stat","sham","getOwnPropertyDescriptors","object","key","descriptor","O","getOwnPropertyDescriptor","f","keys","result","index","length","undefined","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread2","i","arguments","source","forEach","defineProperties","store","useStore","state","reactive","productList","favorites","removed","columnHeight","rotation","columnWidth","color","shelfheight","removeProduct","prod","id","getDiscounts","console","log","params","localStorage","getItem","date","customer_id","HTTP","get","then","response","data","transformedProducts","reduce","acc","discount","discounts","product_discount","products","product_discount_list","map","product","newProduct","discount_base","discount_info","product_has_discount_list","initSwipe","catch","changeWidth","e","percentage","screen","availWidth","availHeight","nextTick","amountOfShelf","shelf","offsetHeight","document","documentElement","clientHeight","onMounted","orientation","addEventListener","error","computed","rest","el","includes","price","isDiscounted","Array","isArray","element","DateTime","fromISO","starting_date","now","end_date","ref","extra","getters","remainder","rowTheme","clientWidth","rows","__exports__","selectedDepartment","currentPage","router","currentRoute","path","isInViewport","rect","getBoundingClientRect","viewportHeight","window","innerHeight","top","bottom","changeActiveDepartment","department","commit","watch","newVal","oldVal","getElementById","scrollIntoView","behavior","block","inline","sort","a","b","categoryname2","fa","toLowerCase","fb","onScroll","scrollLimit","shelfunit","scrollTop","subs","each","this","parent","offset","attr","currentSub","sanitizeText","item","titleCase","replaceAll","str","splitStr","split","charAt","toUpperCase","substring","join","route","useRoute","selectedSubDepartment","shelfStyle","availableSubDepartments","changesize","size","immediate","deep","publicPath","process","getFavorites","stock","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","forced","it"],"mappings":"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","file":"js/chunk-ed11d8de.1af37673.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ShelfPicnicStyle.vue?vue&type=style&index=0&id=9e339346&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Discounts.vue?vue&type=style&index=0&id=005b5e39&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ShelfOldStyle.vue?vue&type=style&index=0&id=4348770c&lang=scss&scoped=true\"","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","<script setup>\r\n\timport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, watch, ref, nextTick } from 'vue';\r\n\timport Product from '@/components/shopPage/Product.vue'\r\n\timport Emptyproduct from '@/components/shopPage/Emptyproduct.vue'\r\n\timport {HTTP} from '@/assets/scripts/http-common.js';\r\n\r\n\timport {DateTime} from 'luxon'\r\n\timport { useStore } from 'vuex'\r\n\tconst store = useStore()\r\n\r\n\t\r\n\r\n\tconst props = defineProps({\r\n\t})\r\n\r\n\tconst state = reactive({\r\n\t\tproductList: [],\r\n\t\tfavorites: [],\r\n\t\tremoved: [],\r\n\t\tcolumnHeight: 0,\r\n\t\trotation: false,\r\n\t\tcolumnWidth: 0,\r\n\t\tcolor: 'black',\r\n\t\tshelfheight: 0\r\n\t})\r\n\r\n\tfunction removeProduct(prod){\r\n\t\tstate.removed.push(prod.id)\r\n\t}\r\n\r\n\tfunction getProducts(){\r\n\t\tif(currentDepartment.value?.department_id){\r\n\t\t\tlet params = {}\r\n\t\t\tif(localStorage.getItem('user_id')){\r\n\t\t\t\tparams = {\r\n\t\t\t\t\tdepartment_id: currentDepartment.value.department_id,\r\n\t\t\t\t\tstock: 1,\r\n\t\t\t\t\tcustomer_id: localStorage.getItem('user_id')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tparams = {\r\n\t\t\t\t\tdepartment_id: currentDepartment.value.department_id,\r\n\t\t\t\t\tstock: 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tHTTP.get(`product`, {params})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tstate.productList = response.data\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getFavorites(){\r\n\t\tlet params = {}\r\n\t\t\tparams = {\r\n\t\t\t\tstock: 1,\r\n\t\t\t\tcustomer_id: localStorage.getItem('user_id')\r\n\t\t\t}\r\n\t\t\tHTTP.get(`customer_favorites`, {params})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tstate.favorites = response.data\r\n\t\t\t\tstate.productList = state.favorites.map(a => a.favorite_product);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t})\r\n\t}\r\n\tfunction getDiscounts(){\r\n\t\tconsole.log(\"test\")\r\n\t\tlet params = {}\r\n\t\t\tif(localStorage.getItem('user_id')){\r\n\t\t\t\tparams = {\r\n\t\t\t\t\tdate: '2023-04-05',\r\n\t\t\t\t\tcustomer_id: localStorage.getItem('user_id')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tparams = {\r\n\t\t\t\t\tdate: '2023-04-05',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tHTTP.get(`discounts`, {params})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tstate.favorites = response.data\r\n\t\t\t\tconst transformedProducts = state.favorites.reduce((acc, discount) => {\r\n\t\t\t\t\tconst discounts = { ...discount };\r\n\t\t\t\t\tdelete discounts.product_discount;\r\n\t\t\t\t\tconst products = discounts.product_discount_list.map(product => {\r\n\t\t\t\t\t\tconst newProduct = { ...product.product_discount };\r\n\t\t\t\t\t\tlet discount_base = { ...product}\r\n\t\t\t\t\t\tdelete discount_base.product_discount\r\n\t\t\t\t\t\tlet discount_info = { ...discount}\r\n\t\t\t\t\t\tdelete discount_info.product_discount_list\r\n\t\t\t\t\t\tdiscount_base.discount_info = discount_info\r\n\t\t\t\t\t\tnewProduct.product_has_discount_list = [discount_base];\r\n\t\t\t\t\t\treturn newProduct;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn [...acc, ...products];\r\n\t\t\t\t}, []);\r\n\t\t\t\tstate.productList = transformedProducts\r\n\t\t\t\tinitSwipe()\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t})\r\n\t}\r\n\r\n\t\r\n\tonMounted(() => {\r\n\t\t\r\n\t\tchangeWidth()\r\n\t\tscreen.orientation.addEventListener(\"change\", function(e) {\r\n\t\t\ttry {\r\n\t\t\t\tstate.rotation = !state.rotation\r\n\t\t\t\tchangeWidth(e)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}, false);\r\n\t\tgetDiscounts()\r\n\t})\r\n\t\r\n\t//80 landscape 82 portrait\r\n\tasync function changeWidth(e){\r\n\t\ttry {\t\t\t\r\n\t\t\tlet percentage = 90\r\n\t\t\tif(screen.availWidth >= screen.availHeight){\r\n\t\t\t\tpercentage = 90\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpercentage = 90\r\n\t\t\t}\r\n\t\t\tawait nextTick()\r\n\t\t\tstate.columnHeight = screen.availHeight / 100 * percentage\r\n\t\t\tstate.columnWidth = state.columnHeight / amountOfShelf.value * 0.85\r\n\t\t\tstate.shelfheight = shelf?.value?.offsetHeight || screen?.availHeight / 100 * percentage || document.documentElement.clientHeight\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err,e )\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\tconst currentDepartment = computed(() => { \r\n\t\treturn store.getters['location/getCurrentDepartment']\r\n\t})\r\n\r\n\twatch(() => store.getters['location/getCurrentDepartment'], (newVal, oldVal) => {\r\n\t\tconsole.log(newVal)\r\n\t\ttry{\r\n\t\t\tif(newVal != 0){\r\n\t\t\t\tif(shelf.value){\r\n\t\t\t\t\tshelf.value.scrollTo({ left: 0, behavior: 'auto' });\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(newVal)\r\n\t\t\t\tif(newVal.department_id == 1){\t\t\t\t\r\n\t\t\t\t\tgetFavorites()\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tgetProducts()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tcatch(error){\r\n\t\t\tif(error) console.log(error)\r\n\t\t}\r\n\t},{\r\n\t\timmediate: true\r\n\t})\r\n\r\n\twatch(() => store.getters['location/getCurrentDepartment'], (newVal, oldVal) => {\r\n\t\ttry{\r\n\t\t\tif(newVal == false && currentDepartment.value.department_id == 1 ){\r\n\t\t\t\tstate.productList = []\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error){\r\n\t\t\tif(error) console.log('error')\r\n\t\t}\r\n\t})\r\n*/\r\n\tconst productList = computed(() => { \r\n\t\tvar list = []\r\n\t\t/*for (const key in state.favorites) {\r\n\t\t\tif (Object.hasOwnProperty.call(state.favorites, key)) {\r\n\t\t\t\tconst element = state.favorites[key];\r\n\t\t\t\telement.product_discount_list.forEach(element1 => {\r\n\t\t\t\t\tvar prod_info = element1.product_discount\r\n\t\t\t\t\tvar discount = element1\r\n\t\t\t\t\tdelete discount.product_discount\r\n\t\t\t\t\tvar discount_info = element\r\n\t\t\t\t\tdelete discount_info.product_discount_list\r\n\t\t\t\t\tvar prod = {product: prod_info, discount: discount, discount_info: discount_info}\r\n\t\t\t\t\tlist.push(prod)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t\tvar rest = state.productList.filter(\r\n\t\t\t(el) => {\r\n\t\t\t\tif (state.removed.includes(el.id)) return false\r\n\t\t\t\telse if(el.price > 99999) return false\r\n\t\t\t\telse if(!isDiscounted) return false\r\n\t\t\t\telse return true\r\n\t\t\t}\r\n\t\t)\r\n\t\treturn rest\r\n\t})\r\n\r\n\r\n\tfunction isDiscounted(product){\r\n        var data = null\r\n        if(Array.isArray(product.product_has_discount_list)){\r\n            if(product.product_has_discount_list.length > 0)\r\n            product.product_has_discount_list.forEach((element) => {\r\n                if(DateTime.fromISO(element.discount_info.starting_date) <= DateTime.now() && DateTime.fromISO(element.discount_info.end_date) >= DateTime.now()){\r\n                    data = element\r\n                }\r\n            });\r\n        }\r\n        return data\r\n    }\r\n\r\n\r\n\tconst shelf = ref();\r\n\t\r\n\tconst loggedIn = computed(() => {\r\n\t\treturn store.getters['shopsettings/getLoggedIn']\r\n\t})\r\n\r\n\t\r\n\r\n\tconst extra = computed(()=>{\r\n\t\tvar length = productList.value.length\r\n\t\tif(length < 25) length = 25\r\n\t\tvar remainder = length % amountOfShelf.value\r\n\t\tif(remainder === 0 && state.productList.length > 25) return 0\r\n\t\tif(state.productList.length < 25) return (amountOfShelf.value - remainder) + 25 - state.productList.length\r\n\t\treturn amountOfShelf.value - remainder\r\n\t})\r\n\r\n\tconst amountOfShelf = computed(() => { return store.getters['shopsettings/getAmountOfShelf'] || 4})\r\n\t\r\n\tconst rowTheme =  computed(() => {\r\n\t\tvar percentage = 80\r\n\t\tif(document.documentElement.clientWidth >= document.documentElement.clientHeight){\r\n\t\t\tpercentage = 80\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpercentage = 82\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\trows: `repeat(${amountOfShelf.value}, calc(100% / ${amountOfShelf.value}))`,\r\n\t\t\tshelfheight: state.shelfheight,\r\n\t\t\tcolumnWidth: `calc((100vh * 0.92 * (${percentage} / 100)) / ${amountOfShelf.value} * 0.85)`\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<template>\r\n\t<div \r\n\t\tclass=\"shelfunit test\" \r\n\t\tref=\"shelf\">\r\n\t\t<Product \r\n\t\t\tv-bind:product=\"item\" \r\n\t\t\tv-for=\"item in productList\" \r\n\t\t\tv-bind:key=\"item.id\" \r\n\t\t\t:id=\"`product-${item.id}`\"\r\n\t\t\t@removeProduct=\"(callback) => {removeProduct(callback)}\" />\r\n\t\t<Emptyproduct v-for=\"item in extra\" :key=\"`empty-${item}`\"/>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.shelfunit{\r\n\tdisplay: grid;\r\n\toverflow-x: scroll;\r\n    overflow-y: hidden;\r\n    height: calc(100% - 2px);\r\n    width: 100%;\r\n    grid-auto-flow: column;\r\n    grid-template-rows: repeat(5, 1fr);\r\n    grid-auto-columns: calc(100% / 5);\r\n\tgrid-template-rows: v-bind('rowTheme.rows');\r\n\tgrid-auto-columns: v-bind('rowTheme.columnWidth');\r\n\tpadding-bottom: 5px;\r\n}\r\n.warning{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: inline-block;\r\n\ttransform: translateY(50%);\r\n}\r\n</style>","import script from \"./ShelfUnit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShelfUnit.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShelfUnit.vue?vue&type=style&index=0&id=5cfb3212&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5cfb3212\"]])\n\nexport default __exports__","<script setup>\r\n\timport { reactive, onMounted, computed, watch, ref } from 'vue';\r\n\timport { useStore } from 'vuex'\r\n\timport Product from '@/components/shopPage/ProductOldStyle.vue'\r\n\timport {HTTP} from '@/assets/scripts/http-common.js';\r\n\t//import Departments from '@/components/shopPage/DepartmentsOldStyle.vue'\r\n\t//import Search from '@/components/shopPage/Search.vue'\r\n\timport router from '@/router';\r\n\timport {DateTime} from 'luxon'\r\n\r\n\tconst store = useStore()\r\n\r\n\tconst state = reactive({\r\n\t\tproductList: [],\r\n\t\tselectedDepartment: null,\r\n\t\tremoved: [],\r\n        currentPage: router.currentRoute.value.path\r\n\t})\r\n\r\n\tfunction removeProduct(prod){\r\n\t\tstate.removed.push(prod.id)\r\n\t}\r\n\t\r\n\tonMounted(() => {\r\n\t\tgetDiscounts()\r\n\t})\r\n\r\n\tconst shelf = ref();\r\n\r\n\twatch(() => store.getters['location/getCurrentSubDepartment'], (newVal, oldVal) => {\r\n\t\tif(newVal) {\r\n\t\t\tif(!isInViewport(document.getElementById(`${newVal}`))){\r\n\t\t\t\tdocument.getElementById(`${newVal}`).scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"start\"});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t})\r\n\tfunction isInViewport(element) {\r\n\t\tvar rect = element.getBoundingClientRect();\r\n\t\tvar viewportHeight = window.innerHeight || document.documentElement.clientHeight;\r\n\r\n\t\treturn (\r\n\t\t\trect.top >= 0 &&\r\n\t\t\trect.bottom <= viewportHeight\r\n\t\t);\r\n\t}\r\n\r\n\tfunction getDiscounts(){\r\n\t\tchangeActiveDepartment(null)\r\n\t\tlet params = {}\r\n\t\t\tparams = {\r\n\t\t\t\tdate: '2023-04-05'\r\n\t\t\t}\r\n\t\t\tHTTP.get(`discounts`, {params})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tstate.favorites = response.data\r\n\t\t\t\tconst transformedProducts = state.favorites.reduce((acc, discount) => {\r\n\t\t\t\t\tconst discounts = { ...discount };\r\n\t\t\t\t\tdelete discounts.product_discount;\r\n\t\t\t\t\tconst products = discounts.product_discount_list.map(product => {\r\n\t\t\t\t\t\tconst newProduct = { ...product.product_discount };\r\n\t\t\t\t\t\tlet discount_base = { ...product}\r\n\t\t\t\t\t\tdelete discount_base.product_discount\r\n\t\t\t\t\t\tlet discount_info = { ...discount}\r\n\t\t\t\t\t\tdelete discount_info.product_discount_list\r\n\t\t\t\t\t\tdiscount_base.discount_info = discount_info\r\n\t\t\t\t\t\tnewProduct.product_has_discount_list = [discount_base];\r\n\t\t\t\t\t\treturn newProduct;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn [...acc, ...products];\r\n\t\t\t\t}, []);\r\n\t\t\t\tstate.productList = transformedProducts\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\tfunction changeActiveDepartment(department){\r\n\t\tstore.commit('location/setAvailableSubDepartments', [])\r\n\t\tstate.productList = []\r\n\t\tstore.commit('location/changeDepartment', department)\r\n\t}\r\n\twatch(() => store.getters['location/getCurrentSubDepartment'], (newVal, oldVal) => {\r\n\t\tif(newVal) {\r\n\t\t\tif(!isInViewport(document.getElementById(`${newVal}`))){\r\n\t\t\t\tdocument.getElementById(`${newVal}`).scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"start\"});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t})\r\n\r\n\twatch(() => state.selectedDepartment, (newVal) => {\r\n        changeActiveDepartment(newVal)\r\n\t})\r\n\r\n\tconst productList = computed(() => {\r\n\t\t\r\n\t\tvar rest = state.productList.filter(\r\n\t\t\t(el) => {\r\n\t\t\t\tif (state.removed.includes(el.id)) return false\r\n\t\t\t\telse if(el.price > 99999) return false\r\n\t\t\t\telse if(!isDiscounted) return false\r\n\t\t\t\telse return true\r\n\t\t\t}\r\n\t\t)\r\n\t\trest.sort((a, b) => {\r\n\t\t\tif(a.categoryname2?.includes('FULL')) a.categoryname2 = null\r\n\t\t\tif(b.categoryname2?.includes('FULL')) b.categoryname2 = null\r\n\t\t\tlet fa = a.categoryname2?.toLowerCase() || '',\r\n\t\t\t\tfb = b.categoryname2?.toLowerCase() || '';\r\n\r\n\t\t\tif (fa < fb) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (fa > fb) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t\tconsole.log(rest)\r\n\t\treturn rest\r\n\t\t\r\n\t})\r\n\r\n\tfunction isDiscounted(product){\r\n        var data = null\r\n        if(Array.isArray(product.product_has_discount_list)){\r\n            if(product.product_has_discount_list.length > 0)\r\n            product.product_has_discount_list.forEach((element) => {\r\n                if(DateTime.fromISO(element.discount_info.starting_date) <= DateTime.now() && DateTime.fromISO(element.discount_info.end_date) >= DateTime.now()){\r\n                    data = element\r\n                }\r\n            });\r\n        }\r\n        return data\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"shop\">\t\t\r\n\t\t<div class=\"shelfunit\" ref=\"shelf\" :key=\"currentDepartment\">\t\t\t\r\n\t\t\t<Product \r\n                v-bind:product=\"item\" \r\n                v-for=\"(item, index) in productList\" \r\n                :first=\"item.categoryname2 != productList[index-1]?.categoryname2 || false\" \r\n                v-bind:key=\"item.id\" :id=\"`product-${item.id}`\"\r\n\t\t\t@removeProduct=\"(callback) => {removeProduct(callback)}\" />\r\n\t\t</div>    \r\n\t</div>\t\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.shop{\r\n\theight: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    align-items: stretch;\r\n    justify-content: space-between;\r\n}\r\n.departments{\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: grid;\r\n}\r\n.shelfunit{\r\n\tdisplay: grid;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    height: auto;\r\n    max-height: 99%;\r\n    width: calc(100% - 5px);\r\n    grid-auto-flow: row;\r\n    margin-left: 5px;\r\n    grid-gap: 2px;\r\n\tgrid-template-columns: 100%;\r\n}\r\n.header{\r\n    display: flex;\r\n    width: 100%;\r\n\theight: 8%;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    align-content: center;\r\n}\r\n.header .title{\r\n    margin-left: 5px;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n}\r\n\r\n.searchheader{\r\n    width: 100%;\r\n\theight: 10%; \r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr 1fr;\r\n    position: relative;\r\n    grid-auto-flow: column;\r\n\tgrid-template-rows: 100%;\r\n}\r\n.searchheader .title{\r\n    margin-left: 5px;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n}\r\n.searchheader button{\r\n    margin-right: 10px;\r\n\tpadding: 5px;\r\n}\r\n\r\n.searchheader select{\r\n\twidth: 90%;\r\n    height: 90%;\r\n    line-height: 2rem;\r\n    font-size: 1.2rem;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    border: none;\r\n}\r\n\r\n.searchbutton{\r\n\theight: 100%;\r\n\twidth: 50%;\r\n    margin-left: 5px;\r\n\tmargin-top: 5px;\r\n}\r\n.searchbutton button{\r\n    height: 80%;\r\n    padding: 2px;\r\n    margin: 0;\r\n}\r\n.searchbutton button img{\r\n\theight: 100%;\r\n\twidth: auto;\r\n}\r\n\r\n#search{\r\n    position: absolute;\r\n    z-index: 10;\r\n}\r\n.searchoverlay{\r\n    background-color: #66666666;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n\r\n@media only screen and (min-width: 500.98px) and (orientation: portrait) {\r\n\t.shelfunit{\r\n\t\tgrid-template-columns: repeat(2, 1fr);\r\n\t}\r\n}\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n\t.shelfunit{\r\n\t\tgrid-template-columns: repeat(2, 1fr);\r\n\t}\r\n}\r\n</style>","import script from \"./ShelfOldStyle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShelfOldStyle.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShelfOldStyle.vue?vue&type=style&index=0&id=4348770c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4348770c\"]])\n\nexport default __exports__","<script setup>\r\n\timport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, watch, ref } from 'vue';\r\n\timport { useStore } from 'vuex'\r\n\timport Product from '@/components/shopPage/ProductPicnicStyle.vue'\r\n\timport {HTTP} from '@/assets/scripts/http-common.js';\r\n\t//import Departments from '@/components/shopPage/DepartmentsPicnicStyle.vue'\r\n\t//import OldDepartments from '@/components/shopPage/DepartmentsOldStyle.vue'\r\n\timport {DateTime} from 'luxon'\r\n\timport $ from 'jquery'\r\n\r\n\tconst store = useStore()\r\n\r\n\t\r\n\r\n\tconst props = defineProps({\r\n\t})\r\n\r\n\tconst state = reactive({\r\n\t\tproductList: [],\r\n\t\tremoved: []\r\n\t})\r\n\t\r\n\tonMounted(() => {\r\n\t\tgetDiscounts()\r\n\t\tonScroll()\r\n\t})\r\n\tfunction getDiscounts(){\r\n\t\tconsole.log(\"test\")\r\n\t\tlet params = {}\r\n\t\t\tparams = {\r\n\t\t\t\tdate: '2023-04-05'\r\n\t\t\t}\r\n\t\t\tHTTP.get(`discounts`, {params})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tstate.favorites = response.data\r\n\t\t\t\tconst transformedProducts = state.favorites.reduce((acc, discount) => {\r\n\t\t\t\t\tconst discounts = { ...discount };\r\n\t\t\t\t\tdelete discounts.product_discount;\r\n\t\t\t\t\tconst products = discounts.product_discount_list.map(product => {\r\n\t\t\t\t\t\tconst newProduct = { ...product.product_discount };\r\n\t\t\t\t\t\tlet discount_base = { ...product}\r\n\t\t\t\t\t\tdelete discount_base.product_discount\r\n\t\t\t\t\t\tlet discount_info = { ...discount}\r\n\t\t\t\t\t\tdelete discount_info.product_discount_list\r\n\t\t\t\t\t\tdiscount_base.discount_info = discount_info\r\n\t\t\t\t\t\tnewProduct.product_has_discount_list = [discount_base];\r\n\t\t\t\t\t\treturn newProduct;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn [...acc, ...products];\r\n\t\t\t\t}, []);\r\n\t\t\t\tstate.productList = transformedProducts\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t})\r\n\t}\r\n\r\n\tfunction onScroll(){\r\n\t\twindow.addEventListener('scroll', function(e){\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\tvar scrollLimit = 100;\r\n\t\t\tvar shelfunit = $('#shelfunit')\r\n\t\t\tif (shelfunit.scrollTop() % scrollLimit < 10) {\r\n\t\t\t\t\r\n\t\t\t\tvar subs = $('.first-sub')\r\n\t\t\t\t\r\n\t\t\t\tsubs.each(function( index ) {\r\n\t\t\t\t\tif($(this).parent().offset().top > -300 && $(this).parent().offset().top < 250){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif($(this).attr('id') != state.currentSub){\r\n\t\t\t\t\t\t\tstate.currentSub = $(this).attr('id')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($(this).parent().offset().top > 300 && $(this).attr('id') == state.currentSub){\r\n\t\t\t\t\t\tstate.currentSub = $(subs[index-1])?.attr('id') || null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t} catch {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.addEventListener('wheel', function(e){\r\n\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\tvar scrollLimit = 100;\r\n\t\t\tvar shelfunit = $('#shelfunit')\r\n\t\t\tif (shelfunit.scrollTop() % scrollLimit < 10) {\r\n\t\t\t\t\r\n\t\t\t\tvar subs = $('.first-sub')\r\n\t\t\t\t\r\n\t\t\t\tsubs.each(function( index ) {\r\n\t\t\t\t\tif($(this).parent().offset().top > -300 && $(this).parent().offset().top < 250){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif($(this).attr('id') != state.currentSub){\r\n\t\t\t\t\t\t\tstate.currentSub = $(this).attr('id')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($(this).parent().offset().top > 300 && $(this).attr('id') == state.currentSub){\r\n\t\t\t\t\t\tstate.currentSub = $(subs[index-1])?.attr('id') || null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t} catch {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst productList = computed(() => {\r\n\t\t\r\n\t\tvar rest = state.productList.filter(\r\n\t\t\t(el) => {\r\n\t\t\t\tif (state.removed.includes(el.id)) return false\r\n\t\t\t\telse if(el.price > 99999) return false\r\n\t\t\t\telse if(!isDiscounted) return false\r\n\t\t\t\telse return true\r\n\t\t\t}\r\n\t\t)\r\n\t\trest.sort((a, b) => {\r\n\t\t\tif(a.categoryname2?.includes('FULL')) a.categoryname2 = null\r\n\t\t\tif(b.categoryname2?.includes('FULL')) b.categoryname2 = null\r\n\t\t\tlet fa = a.categoryname2?.toLowerCase() || '',\r\n\t\t\t\tfb = b.categoryname2?.toLowerCase() || '';\r\n\r\n\t\t\tif (fa < fb) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (fa > fb) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t\treturn rest\r\n\t})\r\n\r\n\tfunction isDiscounted(product){\r\n        var data = null\r\n        if(Array.isArray(product.product_has_discount_list)){\r\n            if(product.product_has_discount_list.length > 0)\r\n            product.product_has_discount_list.forEach((element) => {\r\n                if(DateTime.fromISO(element.discount_info.starting_date) <= DateTime.now() && DateTime.fromISO(element.discount_info.end_date) >= DateTime.now()){\r\n                    data = element\r\n                }\r\n            });\r\n        }\r\n        return data\r\n    }\r\n\t\r\nfunction sanitizeText(item){\r\n\tif(item) return titleCase(item.replaceAll('_', ' '))\r\n\treturn ''\r\n}\r\n\r\nfunction titleCase(str) {\r\n   var splitStr = str.toLowerCase().split(' ');\r\n   for (var i = 0; i < splitStr.length; i++) {\r\n       // You do not need to check if i is larger than splitStr length, as your for does that for you\r\n       // Assign it back to the array\r\n       splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);     \r\n   }\r\n   // Directly return the joined string\r\n   return splitStr.join(' '); \r\n}\r\n\t\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"shop\">\r\n       <!-- <OldDepartments v-if=\"currentDepartment == '0'\"/>-->\r\n\t\t<div class=\"title\" v-html=\"sanitizeText(state.currentSub) || 'Aanbiedingen'\">\r\n\t\t</div>\r\n\t\t<div class=\"shelfunit\" \r\n\t\t\tid=\"shelfunit\" \r\n\t\t\tref=\"shelf\" \r\n\t\t\t:style=\"{ 'grid-template-columns': `1`,  'grid-auto-columns': `100%`}\" \r\n\t\t\t:on-scroll=\"onScroll()\"\r\n\t\t\t:on-wheel=\"onScroll()\"\r\n\t\t\t>\r\n\t\t\t<Product v-bind:product=\"item\" v-for=\"(item, index) in productList\" :first=\"item.categoryname2 != productList[index-1]?.categoryname2 || false\" v-bind:key=\"item.id\" :id=\"`product-${item.id}`\"\r\n\t\t\t@removeProduct=\"(callback) => {removeProduct(callback)}\" />\r\n\t\t</div>     \r\n\t</div>\t\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.shop{\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    align-items: stretch;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.shelfunit{\r\n\tdisplay: grid;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    height: 100%;\r\n    width: 98%;\r\n    grid-auto-flow: row;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    grid-gap: 5px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: auto;\r\n    max-height: 99%;\r\n}\r\n.departmentList{\r\n\theight: 7%;\r\n\toverflow-x: hidden;\r\n}\r\n\r\n.header{\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    align-content: center;\r\n}\r\n\r\nselect{\r\n\twidth: 100%;\r\n    height: 80%;\r\n    line-height: 2rem;\r\n    font-size: 1.2rem;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    border: none;\r\n}\r\n\r\n.departmentList select{\r\n\twidth: 100%;\r\n}\r\n.title{margin-left: 5px;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n}\r\n\r\n.searchheader{\r\n    width: 100%;\r\n\theight: 10%; \r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr 1fr;\r\n    position: relative;\r\n    grid-auto-flow: column;\r\n\tgrid-template-rows: 100%;\r\n}\r\n.searchheader .title{\r\n    margin-left: 5px;\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n}\r\n.searchheader button{\r\n    margin-right: 10px;\r\n\tpadding: 5px;\r\n}\r\n\r\n.searchheader select{\r\n\twidth: 90%;\r\n    height: 90%;\r\n    line-height: 2rem;\r\n    font-size: 1.2rem;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    border: none;\r\n}\r\n\r\n.searchbutton{\r\n\theight: 100%;\r\n\twidth: 50%;\r\n    margin-left: 5px;\r\n\tmargin-top: 5px;\r\n}\r\n.searchbutton button{\r\n    height: 80%;\r\n    padding: 2px;\r\n    margin: 0;\r\n}\r\n.searchbutton button img{\r\n\theight: 100%;\r\n\twidth: auto;\r\n}\r\n\r\n\r\n#search{\r\n    position: absolute;\r\n    z-index: 10;\r\n}\r\n.searchoverlay{\r\n    background-color: #66666666;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n\r\n\r\n    \r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\t\r\n    .shelfunit{\r\n        grid-template-columns: repeat(4, 1fr);\r\n    }\r\n\t.shop .title{\r\n\t\tfont-size: 1.4rem;\r\n\t}\r\n\t\r\n}\r\n@media only screen and (min-width: 500.98px) and (orientation: portrait) {\t\r\n    .shelfunit{\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n\t.shop .title{\r\n\t\tfont-size: 1.4rem;\r\n\t}\r\n}\r\n\r\n\r\n</style>","import script from \"./ShelfPicnicStyle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShelfPicnicStyle.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShelfPicnicStyle.vue?vue&type=style&index=0&id=9e339346&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9e339346\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"departmentList\">\r\n\t\t<div class=\"searchbutton\">\r\n\t\t\t<button @click=\"state.showSearch = !state.showSearch\">\r\n\t\t\t\t<img class=\"pricetag\" :src=\"require('@/assets/icons/search.svg')\" />\r\n\t\t\t</button>\r\n\r\n\t\t\t<div id=\"search\" v-if=\"state.showSearch\">\r\n\t\t\t\t<div class=\"searchoverlay\" @click=\"state.showSearch = !state.showSearch\"></div>\t\t\t\t\r\n\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t<Search \r\n\t\t\t\t\t\t@closeModal=\"(callback) => {state.showSearch = false;}\"\r\n\t\t\t\t\t\t@goToProduct=\"(callback) => {state.showSearch = false;}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</transition>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<select class=\"subs\" v-model=\"state.selectedSubDepartment\" v-if=\"shelfStyle != 0\">\r\n\t\t\t<option :value=\"null\" disabled selected>Selecteer een afdeling</option>\r\n\t\t\t<option \r\n\t\t\t\tclass=\"departments\" \r\n\t\t\t\tv-for=\"item in availableSubDepartments\" \r\n\t\t\t\t:key=\"item\" \r\n\t\t\t\t:value=\"item\"\r\n\t\t\t\tv-html=\"sanitizeText(item)\">\r\n\t\t\t</option>\r\n\t\t</select>\t\t\r\n\t\t<div class=\"fav\"  v-if=\"shelfStyle == 0\">\r\n\t\t\tAanbiedingen\r\n\t\t</div>\r\n\t\t<div class=\"sizing\" v-if=\"shelfStyle == 0\">\r\n\t\t\t<button class=\"left-shadow\" @click=\"changesize()\" v-html=\"`H ${amountOfShelf}`\"></button>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose, watch } from 'vue';\r\nimport {HTTP} from '@/assets/scripts/http-common.js';\r\nimport auth from '@/assets/scripts/auth';\r\nimport { useStore } from 'vuex'\r\nimport {useRoute} from 'vue-router'\r\nimport Search from '@/components/shopPage/Search.vue'\r\nconst store = useStore()\r\n\r\nfunction sanitizeText(item){\r\n\treturn titleCase(item.replaceAll('_', ' '))\r\n}\r\n\r\nfunction titleCase(str) {\r\n   var splitStr = str.toLowerCase().split(' ');\r\n   for (var i = 0; i < splitStr.length; i++) {\r\n       // You do not need to check if i is larger than splitStr length, as your for does that for you\r\n       // Assign it back to the array\r\n       splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);     \r\n   }\r\n   // Directly return the joined string\r\n   return splitStr.join(' '); \r\n}\r\n\r\nconst route = useRoute();\r\nconst path = computed(() =>route.path)\r\n\tconst props = defineProps({\r\n\t})\r\n\r\n\tconst state = reactive({\r\n        selectedDepartment: null,\r\n\t\tselectedSubDepartment: null\r\n\t})\r\n\r\n    const shelfStyle = computed(() => { return store.getters['shopsettings/getShelfStyle']})\r\n\t\r\n\tconst amountOfShelf = computed(() => { return store.getters['shopsettings/getAmountOfShelf']})\r\n\r\n    const availableSubDepartments = computed(() => {\r\n\t\tconsole.log(store.getters['location/getAvailableSubDepartments'])\r\n        return store.getters['location/getAvailableSubDepartments']\r\n    })\r\n\r\n    onMounted(() => {\r\n    })\r\n\r\n    watch(() => state.selectedDepartment, (newVal) => {\r\n        store.commit('location/changeDepartment', newVal)\r\n\t})\r\n\r\n\twatch(() => state.selectedSubDepartment, (newVal) => {\r\n        store.commit('location/changeSubDepartment', newVal)\r\n\t})\r\n\r\n\twatch(() => store.getters['location/getCurrentDepartment'], () => {\r\n\t\tstate.selectedDepartment = store.getters['location/getCurrentDepartment']\r\n\t}, {\r\n\t\timmediate: true, \r\n\t\tdeep: true\r\n\t})\r\n\r\n\tfunction changesize(){\r\n\t\tif(amountOfShelf.value == 5){\t\r\n\t\t\tstore.commit('shopsettings/changeShelfSize', 3)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlet size = amountOfShelf.value + 1\r\n\t\t\tstore.commit('shopsettings/changeShelfSize',size)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction returnToDeps(){\r\n\t\tstate.selectedDepartment = 0\r\n\t\tstate.selectedSubDepartment = null\r\n        store.commit('location/changeSubDepartment', null)\r\n\t}\r\n\t\r\n</script>\r\n\r\n<style scoped>\r\n.departmentList{\r\n\twidth: 100%;\r\n\toverflow-y: hidden;\r\n\tdisplay: inline-flex;\r\n\twhite-space: nowrap;\r\n\tborder-bottom: 2px solid #666666;\r\n\tborder-top: 2px solid #666666;\r\n\tborder-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n\talign-items: center;\r\n    align-content: center;\r\n    flex-wrap: nowrap;\r\n    flex-direction: row;\r\n\theight: 100%;\r\n    box-shadow: 3px 4px 3px 0px rgba(0,0,0,0.3);\r\n}\r\n.departments{\r\n\tbackground-color: #3a3a3a;\r\n    padding: 2px;\r\n\tmargin: 0px 5px;\r\n\tdisplay: inline-flex;\r\n\tcolor: #f6f6f6;\r\n    font-weight: 700;\r\n    border: 1px solid #ffffff;\r\n\tborder-radius: 10px;\t\r\n    box-shadow: 4px 5px 4px 0px rgba(0,0,0,0.4);\r\n    border: 2px solid #c5c5c5;\r\n}\r\nselect{\r\n\twidth: 100%;\r\n    height: 80%;\r\n    line-height: 2rem;\r\n    font-size: 1.2rem;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    border: none;\r\n    white-space: nowrap;\r\n}\r\n\r\n.discounts .cats{\r\n\tdisplay: none;\r\n}\r\n.fav{\r\n\tdisplay: none;\r\n}\r\n.discounts .fav{\r\n\twidth: 100%;\r\n    line-height: 2rem;\r\n    font-size: 1.4rem;\r\n    padding: 5px;\r\n    margin: 5px;\r\n    border: none;\r\n    white-space: nowrap;\r\n\tfont-weight: 600;\r\n\ttext-align: left;\r\n\tdisplay: block;\r\n}\r\n.sizing{\t\r\n    max-width: 25%;\r\n    display: contents;\r\n\theight: 100%;\r\n}\r\n.sizing button{\r\n\tpadding: 2px;\r\n\tmargin:0;\r\n\theight: 90%;\r\n\tcolor: #ffffff;\r\n\tbackground-color: #424242;\r\n\tborder-color: #424242;\r\n}\r\n.discounts .searchbutton{\r\n\tdisplay: none;\r\n}\r\n\r\n.discounts .back{\r\n\tdisplay: none;\r\n}\r\n.searchbutton{\r\n\twidth: fit-content;\r\n\theight: 100%;\r\n\tmax-width: 25%;\r\n    display: contents;\r\n}\r\n.searchbutton button{\r\n\theight: 90%;\r\n\tpadding: 2px;\r\n\tmargin: 0;\r\n\tcolor: #ffffff;\r\n\tbackground-color: #424242;\r\n\tborder-color: #424242;\r\n}\r\n.searchbutton button img{\r\n\theight: 100%;\r\n\twidth: auto;\r\n\tfilter: invert(1);\r\n}\r\n\r\n\r\n#search{\r\n    position: absolute;\r\n    z-index: 10;\r\n}\r\n.searchoverlay{\r\n    background-color: #66666666;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 10;\r\n}\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\t\r\n\t.discounts .fav{\r\n\t\tfont-size: 2rem;\r\n\t}\r\n}\r\n@media only screen and (min-width: 500.98px) and (orientation: portrait) {\t\r\n\t.discounts .fav{\r\n\t\tfont-size: 2rem;\r\n\t}\r\n\t\r\n}\r\n</style>\r\n","import script from \"./Departments.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Departments.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Departments.vue?vue&type=style&index=0&id=fdc08d84&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fdc08d84\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"home discounts\">\r\n        <div class=\"shelf\" :class=\"[shelfStyle != 0 ? 'combined-category' : '']\">\r\n            <Shelfunit  v-if=\"shelfStyle == 0\"/>\r\n            <ShelfOldStyle v-if=\"shelfStyle == 1\"/>\r\n            <ShelfPicnicStyle v-if=\"shelfStyle == 2\"/>\r\n        </div>\r\n        <div class=\"bottom-shelf\" :class=\"[shelfStyle != 0 ? 'combined-category' : '']\">\r\n            <Departments  v-if=\"shelfStyle == 0 || shelfStyle == 1 || shelfStyle == 2\"\r\n                @goToProduct=\"(callback) => {}\"/>\r\n            <div class=\"shoppingcart\">\r\n                <Shoppingcart />\r\n            </div>\r\n        </div>    \r\n        <NoAccess />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport NoAccess from '@/components/Basics/NoAccess.vue'\r\nimport { reactive, defineProps, onMounted, computed, defineEmits, defineExpose } from 'vue';\r\nimport Shoppingcart from '@/components/shopPage/ShoppingCart.vue'\r\nimport Shelfunit from '@/components/discountsPage/ShelfUnit.vue'\r\nimport ShelfOldStyle from '@/components/discountsPage/ShelfOldStyle.vue'\r\nimport ShelfPicnicStyle from '@/components/discountsPage/ShelfPicnicStyle.vue' \r\nimport Departments from '@/components/discountsPage/Departments.vue'\r\n    import {HTTP} from '@/assets/scripts/http-common.js';\r\n\timport { useStore } from 'vuex'\r\n\r\n\tconst store = useStore()\r\n\r\n    const state = reactive({\r\n        publicPath: process.env.BASE_URL\r\n    })\r\n    const shelfStyle = computed(() => { return store.getters['shopsettings/getShelfStyle']})\r\n\r\nconst klantenkaart = computed(() => {\r\n      return localStorage.getItem('klantenkaart')\r\n    })\r\n\r\n    onMounted(() =>{\r\n  /*  if(store.getters['shopsettings/getShelfStyle'] != localStorage.getItem('shoptype')){\r\n        store.commit('shopsettings/changeShelfStyle', localStorage.getItem('shoptype') || 0)\r\n        store.commit('location/changeDepartment', 0)*/\r\n        \r\n        store.commit('location/changeSubDepartment', null)\r\n        store.commit('location/resetAvailableSubDepartments')\r\n        console.log(store.getters['location/getAvailableSubDepartments'])\r\n        if(localStorage.getItem('user_id')){\r\n            getFavorites()\r\n        }\r\n})\r\n\r\n\r\n\r\nfunction getFavorites(){\r\n\t\tlet params = {}\r\n\t\tparams = {\r\n\t\t\tstock: 1,\r\n\t\t\tcustomer_id: localStorage.getItem('user_id')\r\n\t\t}\r\n\t\tHTTP.get(`customer_favorites`, {params})\r\n\t\t.then((response) => {\r\n\t\t\tvar favorites = response.data\r\n\t\t\tstore.commit('shopsettings/updateFavorites', favorites)\r\n\t\t})\r\n\t\t.catch((e) => {\r\n            console.log(e)\r\n\t\t})\r\n\t}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.shelf{\r\n\theight: 82%;\r\n\toverflow-y: hidden;\r\n}\r\n\r\n.shelf.combined-category{\r\n    height: 82%;\r\n}\r\n\r\n.bottom-shelf .departmentList{\r\n\twidth: 100%;\r\n\toverflow-x: scroll;\r\n\toverflow-y: hidden;\r\n\tdisplay: inline-flex;\r\n\twhite-space: nowrap;\r\n\tborder-bottom: 2px solid #666666;\r\n\tborder-top: 2px solid #666666;\r\n\tborder-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n\talign-items: center;\r\n    align-content: center;\r\n    flex-wrap: nowrap;\r\n    flex-direction: row;\r\n    height: 90%;\r\n    box-shadow: 3px 4px 3px 0px rgba(0,0,0,0.3);\r\n}\r\n.departments, .subDepartments{\r\n\tbackground-color: #3a3a3a;\r\n    padding: 2px;\r\n\tmargin: 0px 5px;\r\n\tdisplay: inline-flex;\r\n\tcolor: #f6f6f6;\r\n    font-weight: 700;\r\n    border: 1px solid #ffffff;\r\n\tborder-radius: 10px;\t\r\n    box-shadow: 4px 5px 4px 0px rgba(0,0,0,0.4);\r\n}\r\n.departments span{\r\n\tfont-size: 0.9rem;\r\n\tpadding: 2px\r\n}\r\n.subdeplist{\r\n\tposition: absolute;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    white-space: nowrap;\r\n    border-bottom: 2px solid #666666;\r\n    border-top: 2px solid #666666;\r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    bottom: 15%;\r\n    background-color: var(--base-color);\r\n    width: 50vw;\r\n    max-height: 40vw;\r\n    right: 5px;\r\n    border-radius: 6px;\r\n    border: 1px solid #cccccc;\r\n    -webkit-box-shadow: 4px 5px 4px 0px rgba(0,0,0,0.4);\r\n    box-shadow: 4px 5px 4px 0px rgba(0,0,0,0.4);\r\n}\r\n.selectedDep{\r\n\tbackground-color: var(--header-color);\r\n}\r\n.subDepartments{\r\ndisplay: block;\r\n    max-width: 100%;\r\n    white-space: normal;\r\n}\r\n.shoppingcart{\r\n\theight: 12%;\r\n    position: relative;\r\n}\r\nhr {\r\n    margin-top: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n}\r\n\r\n.bottom-shelf{\r\n    width: 100%;\r\n    height: 18%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n    align-items: stretch;\r\n}\r\n.bottom-shelf .departmentList{\r\n    height: 35%;\r\n}\r\n.bottom-shelf .shoppingcart{\r\n    height: 65%;\r\n}\r\n\r\n\r\n\r\n\r\n@media screen and (orientation: landscape) {\r\n  .shelfList {\r\n    height: unset;\r\n  }\r\n}\r\n\r\n@media only screen and (min-height: 500.98px) and (orientation: landscape) {\r\n    .shelf{\r\n        height: 91%;\r\n    }\r\n\r\n    .shelf.combined-category{\r\n        height: 91%;\r\n    }\r\n    .bottom-shelf{\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        grid-template-rows: 1fr;\r\n        height: 9%;\r\n        grid-gap: 5px;\r\n    }\r\n    .bottom-shelf .departmentList{\r\n        grid-column: 1;\r\n        height: 100%;\r\n        \r\n    border: 1px solid #111111;\r\n    border-bottom: 0;\r\n    border-top-left-radius: 10px;\r\n    border-top-right-radius: 10px;\r\n    border-bottom-left-radius: unset;\r\n    border-bottom-right-radius: unset;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    \r\n    width: calc(100% - 10px);\r\n    }\r\n\r\n    .bottom-shelf .shoppingcart{\r\n        grid-column: 2;\r\n        height: 100%;\r\n    }\r\n}\r\n@media only screen and (min-width: 500.98px) and (orientation: portrait) {\r\n    .shelf{\r\n        height: 84%;\r\n    }\r\n\r\n    .shelf.combined-category{\r\n        height: 84%;\r\n    }\r\n    .bottom-shelf{\r\n        height: 16%;\r\n    }\r\n}\r\n</style>\r\n","import script from \"./Discounts.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Discounts.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Discounts.vue?vue&type=style&index=0&id=005b5e39&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\Client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-005b5e39\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Departments.vue?vue&type=style&index=0&id=fdc08d84&scoped=true&lang=css\"","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ShelfUnit.vue?vue&type=style&index=0&id=5cfb3212&lang=scss&scoped=true\""],"sourceRoot":""}